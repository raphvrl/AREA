<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: &lt;tt&gt;react-router&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">&lt;tt&gt;react-router&lt;/tt&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md21438"></a> </p>
<h1><a class="anchor" id="autotoc_md21439"></a>
6.28.0</h1>
<h2><a class="anchor" id="autotoc_md21440"></a>
Minor Changes</h2>
<ul>
<li>- Log deprecation warnings for v7 flags (<a href="https://github.com/remix-run/react-router/pull/11750">#11750</a>)<ul>
<li>Add deprecation warnings to <code>json</code>/<code>defer</code> in favor of returning raw objects<ul>
<li>These methods will be removed in React Router v7</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21441"></a>
Patch Changes</h2>
<ul>
<li>Update JSDoc URLs for new website structure (add /v6/ segment) (<a href="https://github.com/remix-run/react-router/pull/12141">#12141</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.21.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21442"></a>
6.27.0</h1>
<h2><a class="anchor" id="autotoc_md21443"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <code>unstable_patchRoutesOnNavigation</code> (<a href="https://github.com/remix-run/react-router/pull/11973">#11973</a>)<ul>
<li>Add new <code>PatchRoutesOnNavigationFunctionArgs</code> type for convenience (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
</ul>
</li>
<li>Stabilize <code>unstable_dataStrategy</code> (<a href="https://github.com/remix-run/react-router/pull/11974">#11974</a>)</li>
<li>Stabilize the <code>unstable_flushSync</code> option for navigations and fetchers (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
<li>Stabilize the <code>unstable_viewTransition</code> option for navigations and the corresponding <code>unstable_useViewTransitionState</code> hook (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21444"></a>
Patch Changes</h2>
<ul>
<li>Fix bug when submitting to the current contextual route (parent route with an index child) when an <code>?index</code> param already exists from a prior submission (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix <code>useFormAction</code> bug - when removing <code>?index</code> param it would not keep other non-Remix <code>index</code> params (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix types for <code>RouteObject</code> within <code>PatchRoutesOnNavigationFunction</code>'s <code>patch</code> method so it doesn't expect agnostic route objects passed to <code>patch</code> (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.20.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21445"></a>
6.26.2</h1>
<h2><a class="anchor" id="autotoc_md21446"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21447"></a>
6.26.1</h1>
<h2><a class="anchor" id="autotoc_md21448"></a>
Patch Changes</h2>
<ul>
<li>Rename <code>unstable_patchRoutesOnMiss</code> to <code>unstable_patchRoutesOnNavigation</code> to match new behavior (<a href="https://github.com/remix-run/react-router/pull/11888">#11888</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21449"></a>
6.26.0</h1>
<h2><a class="anchor" id="autotoc_md21450"></a>
Minor Changes</h2>
<ul>
<li>Add a new <code>replace(url, init?)</code> alternative to <code>redirect(url, init?)</code> that performs a <code>history.replaceState</code> instead of a <code>history.pushState</code> on client-side navigation redirects (<a href="https://github.com/remix-run/react-router/pull/11811">#11811</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21451"></a>
Patch Changes</h2>
<ul>
<li>Fix initial hydration behavior when using <code>future.v7_partialHydration</code> along with <code>unstable_patchRoutesOnMiss</code> (<a href="https://github.com/remix-run/react-router/pull/11838">#11838</a>)<ul>
<li>During initial hydration, <code>router.state.matches</code> will now include any partial matches so that we can render ancestor <code>HydrateFallback</code> components</li>
</ul>
</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21452"></a>
6.25.1</h1>
<p>No significant changes to this package were made in this release. <a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md">See the repo <code>CHANGELOG.md</code></a> for an overview of all changes in v6.25.1.</p>
<h1><a class="anchor" id="autotoc_md21453"></a>
6.25.0</h1>
<h2><a class="anchor" id="autotoc_md21454"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <code>future.unstable_skipActionErrorRevalidation</code> as <code>future.v7_skipActionErrorRevalidation</code> (<a href="https://github.com/remix-run/react-router/pull/11769">#11769</a>)<ul>
<li>When this flag is enabled, actions will not automatically trigger a revalidation if they return/throw a <code>Response</code> with a <code>4xx</code>/<code>5xx</code> status code</li>
<li>You may still opt-into revalidation via <code>shouldRevalidate</code></li>
<li>This also changes <code>shouldRevalidate</code>'s <code>unstable_actionStatus</code> parameter to <code>actionStatus</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21455"></a>
Patch Changes</h2>
<ul>
<li>Fix regression and properly decode paths inside <code>useMatch</code> so matches/params reflect decoded params (<a href="https://github.com/remix-run/react-router/pull/11789">#11789</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.18.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21456"></a>
6.24.1</h1>
<h2><a class="anchor" id="autotoc_md21457"></a>
Patch Changes</h2>
<ul>
<li>When using <code>future.v7_relativeSplatPath</code>, properly resolve relative paths in splat routes that are children of pathless routes (<a href="https://github.com/remix-run/react-router/pull/11633">#11633</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.17.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21458"></a>
6.24.0</h1>
<h2><a class="anchor" id="autotoc_md21459"></a>
Minor Changes</h2>
<ul>
<li>Add support for Lazy Route Discovery (a.k.a. Fog of War) (<a href="https://github.com/remix-run/react-router/pull/11626">#11626</a>)<ul>
<li>RFC: <a href="https://github.com/remix-run/react-router/discussions/11113">https://github.com/remix-run/react-router/discussions/11113</a></li>
<li><code>unstable_patchRoutesOnMiss</code> docs: <a href="https://reactrouter.com/v6/routers/create-browser-router">https://reactrouter.com/v6/routers/create-browser-router</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21460"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.17.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21461"></a>
6.23.1</h1>
<h2><a class="anchor" id="autotoc_md21462"></a>
Patch Changes</h2>
<ul>
<li>allow undefined to be resolved with <code>&lt;Await&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/11513">#11513</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.16.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21463"></a>
6.23.0</h1>
<h2><a class="anchor" id="autotoc_md21464"></a>
Minor Changes</h2>
<ul>
<li>Add a new <code>unstable_dataStrategy</code> configuration option (<a href="https://github.com/remix-run/react-router/pull/11098">#11098</a>)<ul>
<li>This option allows Data Router applications to take control over the approach for executing route loaders and actions</li>
<li>The default implementation is today's behavior, to fetch all loaders in parallel, but this option allows users to implement more advanced data flows including Remix single-fetch, middleware/context APIs, automatic loader caching, and more</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21465"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.16.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21466"></a>
6.22.3</h1>
<h2><a class="anchor" id="autotoc_md21467"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21468"></a>
6.22.2</h1>
<h2><a class="anchor" id="autotoc_md21469"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21470"></a>
6.22.1</h1>
<h2><a class="anchor" id="autotoc_md21471"></a>
Patch Changes</h2>
<ul>
<li>Fix encoding/decoding issues with pre-encoded dynamic parameter values (<a href="https://github.com/remix-run/react-router/pull/11199">#11199</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21472"></a>
6.22.0</h1>
<h2><a class="anchor" id="autotoc_md21473"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21474"></a>
6.21.3</h1>
<h2><a class="anchor" id="autotoc_md21475"></a>
Patch Changes</h2>
<ul>
<li>Remove leftover <code>unstable_</code> prefix from <code>Blocker</code>/<code>BlockerFunction</code> types (<a href="https://github.com/remix-run/react-router/pull/11187">#11187</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21476"></a>
6.21.2</h1>
<h2><a class="anchor" id="autotoc_md21477"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.14.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21478"></a>
6.21.1</h1>
<h2><a class="anchor" id="autotoc_md21479"></a>
Patch Changes</h2>
<ul>
<li>Fix bug with <code>route.lazy</code> not working correctly on initial SPA load when <code>v7_partialHydration</code> is specified (<a href="https://github.com/remix-run/react-router/pull/11121">#11121</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.14.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21480"></a>
6.21.0</h1>
<h2><a class="anchor" id="autotoc_md21481"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add a new <code>future.v7_relativeSplatPath</code> flag to implement a breaking bug fix to relative routing when inside a splat route. (<a href="https://github.com/remix-run/react-router/pull/11087">#11087</a>)</p>
<p class="startli">This fix was originally added in <a href="https://github.com/remix-run/react-router/issues/10983">#10983</a> and was later reverted in <a href="https://github.com/remix-run/react-router/pull/11078">#11078</a> because it was determined that a large number of existing applications were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052">#11052</a>)</p>
<p class="startli"><b>The Bug</b> The buggy behavior is that without this flag, the default behavior when resolving relative paths is to <em>ignore</em> any splat (<code>*</code>) portion of the current route path.</p>
<p class="startli"><b>The Background</b> This decision was originally made thinking that it would make the concept of nested different sections of your apps in <code>&lt;Routes&gt;</code> easier if relative routing would <em>replace</em> the current splat:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard/*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Any paths like <code>/dashboard</code>, <code>/dashboard/team</code>, <code>/dashboard/projects</code> will match the <code>Dashboard</code> route. The dashboard component itself can then render nested <code>&lt;Routes&gt;</code>:</p>
<div class="fragment"><div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;/&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Routes&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">Now, all links and route paths are relative to the router above them. This makes code splitting and compartmentalizing your app really easy. You could render the <code>Dashboard</code> as its own independent app, or embed it into your large app without making any changes to it.</p>
<p class="startli"><b>The Problem</b></p>
<p class="startli">The problem is that this concept of ignoring part of a path breaks a lot of other assumptions in React Router - namely that <code>"."</code> always means the current location pathname for that route. When we ignore the splat portion, we start getting invalid paths when using <code>"."</code>:</p>
<div class="fragment"><div class="line">// If we are on URL /dashboard/team, and we want to link to /dashboard/team:</div>
<div class="line">function DashboardTeam() {</div>
<div class="line">  // ‚ùå This is broken and results in &lt;a href=&quot;/dashboard&quot;&gt;</div>
<div class="line">  return &lt;Link to=&quot;.&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line"> </div>
<div class="line">  // ‚úÖ This is fixed but super unintuitive since we&#39;re already at /dashboard/team!</div>
<div class="line">  return &lt;Link to=&quot;./team&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">We've also introduced an issue that we can no longer move our <code>DashboardTeam</code> component around our route hierarchy easily - since it behaves differently if we're underneath a non-splat route, such as <code>/dashboard/:widget</code>. Now, our <code>"."</code> links will, properly point to ourself <em>inclusive of the dynamic param value</em> so behavior will break from it's corresponding usage in a <code>/dashboard/*</code> route.</p>
<p class="startli">Even worse, consider a nested splat route configuration:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Now, a <code>&lt;Link to="."&gt;</code> and a <code>&lt;Link to=".."&gt;</code> inside the <code>Dashboard</code> component go to the same place! That is definitely not correct!</p>
<p class="startli">Another common issue arose in Data Routers (and Remix) where any <code>&lt;Form&gt;</code> should post to it's own route <code>action</code> if you the user doesn't specify a form action:</p>
<div class="fragment"><div class="line">let router = createBrowserRouter({</div>
<div class="line">  path: &quot;/dashboard&quot;,</div>
<div class="line">  children: [</div>
<div class="line">    {</div>
<div class="line">      path: &quot;*&quot;,</div>
<div class="line">      action: dashboardAction,</div>
<div class="line">      Component() {</div>
<div class="line">        // ‚ùå This form is broken!  It throws a 405 error when it submits because</div>
<div class="line">        // it tries to submit to /dashboard (without the splat value) and the parent</div>
<div class="line">        // `/dashboard` route doesn&#39;t have an action</div>
<div class="line">        return &lt;Form method=&quot;post&quot;&gt;...&lt;/Form&gt;;</div>
<div class="line">      },</div>
<div class="line">    },</div>
<div class="line">  ],</div>
<div class="line">});</div>
</div><!-- fragment --><p class="startli">This is just a compounded issue from the above because the default location for a <code>Form</code> to submit to is itself (<code>"."</code>) - and if we ignore the splat portion, that now resolves to the parent route.</p>
<p class="startli"><b>The Solution</b> If you are leveraging this behavior, it's recommended to enable the future flag, move your splat to it's own route, and leverage <code>../</code> for any links to "sibling" pages:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route index path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;..&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Router&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">This way, <code>.</code> means "the full current pathname for my route" in all cases (including static, dynamic, and splat routes) and <code>..</code> always means "my parents pathname".</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21482"></a>
Patch Changes</h2>
<ul>
<li>Properly handle falsy error values in ErrorBoundary's (<a href="https://github.com/remix-run/react-router/pull/11071">#11071</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.14.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21483"></a>
6.20.1</h1>
<h2><a class="anchor" id="autotoc_md21484"></a>
Patch Changes</h2>
<ul>
<li>Revert the <code>useResolvedPath</code> fix for splat routes due to a large number of applications that were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329">https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329</a>). We plan to re-introduce this fix behind a future flag in the next minor version. (<a href="https://github.com/remix-run/react-router/pull/11078">#11078</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.13.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21485"></a>
6.20.0</h1>
<h2><a class="anchor" id="autotoc_md21486"></a>
Minor Changes</h2>
<ul>
<li>Export the <code>PathParam</code> type from the public API (<a href="https://github.com/remix-run/react-router/pull/10719">#10719</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21487"></a>
Patch Changes</h2>
<ul>
<li>Fix bug with <code>resolveTo</code> in splat routes (<a href="https://github.com/remix-run/react-router/pull/11045">#11045</a>)<ul>
<li>This is a follow up to <a href="https://github.com/remix-run/react-router/pull/10983">#10983</a> to handle the few other code paths using <code>getPathContributingMatches</code></li>
<li>This removes the <code>UNSAFE_getPathContributingMatches</code> export from <code>@remix-run/router</code> since we no longer need this in the <code>react-router</code>/<code>react-router-dom</code> layers</li>
</ul>
</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.13.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21488"></a>
6.19.0</h1>
<h2><a class="anchor" id="autotoc_md21489"></a>
Minor Changes</h2>
<ul>
<li>Add <code>unstable_flushSync</code> option to <code>useNavigate</code>/<code>useSumbit</code>/<code>fetcher.load</code>/<code>fetcher.submit</code> to opt-out of <code>React.startTransition</code> and into <code>ReactDOM.flushSync</code> for state updates (<a href="https://github.com/remix-run/react-router/pull/11005">#11005</a>)</li>
<li>Remove the <code>unstable_</code> prefix from the <a href="https://reactrouter.com/v6/hooks/use-blocker"><code>useBlocker</code></a> hook as it's been in use for enough time that we are confident in the API. We do not plan to remove the prefix from <code>unstable_usePrompt</code> due to differences in how browsers handle <code>window.confirm</code> that prevent React Router from guaranteeing consistent/correct behavior. (<a href="https://github.com/remix-run/react-router/pull/10991">#10991</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21490"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>useActionData</code> so it returns proper contextual action data and not <em>any</em> action data in the tree (<a href="https://github.com/remix-run/react-router/pull/11023">#11023</a>)</li>
<li>Fix bug in <code>useResolvedPath</code> that would cause <code>useResolvedPath(".")</code> in a splat route to lose the splat portion of the URL path. (<a href="https://github.com/remix-run/react-router/pull/10983">#10983</a>)<ul>
<li>‚ö†Ô∏è This fixes a quite long-standing bug specifically for <code>"."</code> paths inside a splat route which incorrectly dropped the splat portion of the URL. If you are relative routing via <code>"."</code> inside a splat route in your application you should double check that your logic is not relying on this buggy behavior and update accordingly.</li>
</ul>
</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.12.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21491"></a>
6.18.0</h1>
<h2><a class="anchor" id="autotoc_md21492"></a>
Patch Changes</h2>
<ul>
<li>Fix the <code>future</code> prop on <code>BrowserRouter</code>, <code>HashRouter</code> and <code>MemoryRouter</code> so that it accepts a <code>Partial&lt;FutureConfig&gt;</code> instead of requiring all flags to be included. (<a href="https://github.com/remix-run/react-router/pull/10962">#10962</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.11.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21493"></a>
6.17.0</h1>
<h2><a class="anchor" id="autotoc_md21494"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>RouterProvider</code> <code>future</code> prop type to be a <code>Partial&lt;FutureConfig&gt;</code> so that not all flags must be specified (<a href="https://github.com/remix-run/react-router/pull/10900">#10900</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.10.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21495"></a>
6.16.0</h1>
<h2><a class="anchor" id="autotoc_md21496"></a>
Minor Changes</h2>
<ul>
<li>In order to move towards stricter TypeScript support in the future, we're aiming to replace current usages of <code>any</code> with <code>unknown</code> on exposed typings for user-provided data. To do this in Remix v2 without introducing breaking changes in React Router v6, we have added generics to a number of shared types. These continue to default to <code>any</code> in React Router and are overridden with <code>unknown</code> in Remix. In React Router v7 we plan to move these to <code>unknown</code> as a breaking change. (<a href="https://github.com/remix-run/react-router/pull/10843">#10843</a>)<ul>
<li><code>Location</code> now accepts a generic for the <code>location.state</code> value</li>
<li><code>ActionFunctionArgs</code>/<code>ActionFunction</code>/<code>LoaderFunctionArgs</code>/<code>LoaderFunction</code> now accept a generic for the <code>context</code> parameter (only used in SSR usages via <code>createStaticHandler</code>)</li>
<li>The return type of <code>useMatches</code> (now exported as <code>UIMatch</code>) accepts generics for <code>match.data</code> and <code>match.handle</code> - both of which were already set to <code>unknown</code></li>
</ul>
</li>
<li>Move the <code>@private</code> class export <code>ErrorResponse</code> to an <code>UNSAFE_ErrorResponseImpl</code> export since it is an implementation detail and there should be no construction of <code>ErrorResponse</code> instances in userland. This frees us up to export a <code>type ErrorResponse</code> which correlates to an instance of the class via <code>InstanceType</code>. Userland code should only ever be using <code>ErrorResponse</code> as a type and should be type-narrowing via <code>isRouteErrorResponse</code>. (<a href="https://github.com/remix-run/react-router/pull/10811">#10811</a>)</li>
<li>Export <code>ShouldRevalidateFunctionArgs</code> interface (<a href="https://github.com/remix-run/react-router/pull/10797">#10797</a>)</li>
<li>Removed private/internal APIs only required for the Remix v1 backwards compatibility layer and no longer needed in Remix v2 (<code>_isFetchActionRedirect</code>, <code>_hasFetcherDoneAnything</code>) (<a href="https://github.com/remix-run/react-router/pull/10715">#10715</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21497"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.9.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21498"></a>
6.15.0</h1>
<h2><a class="anchor" id="autotoc_md21499"></a>
Minor Changes</h2>
<ul>
<li>Add's a new <code>redirectDocument()</code> function which allows users to specify that a redirect from a <code>loader</code>/<code>action</code> should trigger a document reload (via <code>window.location</code>) instead of attempting to navigate to the redirected location via React Router (<a href="https://github.com/remix-run/react-router/pull/10705">#10705</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21500"></a>
Patch Changes</h2>
<ul>
<li>Ensure <code>useRevalidator</code> is referentially stable across re-renders if revalidations are not actively occurring (<a href="https://github.com/remix-run/react-router/pull/10707">#10707</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.8.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21501"></a>
6.14.2</h1>
<h2><a class="anchor" id="autotoc_md21502"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.7.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21503"></a>
6.14.1</h1>
<h2><a class="anchor" id="autotoc_md21504"></a>
Patch Changes</h2>
<ul>
<li>Fix loop in <code>unstable_useBlocker</code> when used with an unstable blocker function (<a href="https://github.com/remix-run/react-router/pull/10652">#10652</a>)</li>
<li>Fix issues with reused blockers on subsequent navigations (<a href="https://github.com/remix-run/react-router/pull/10656">#10656</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.7.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21505"></a>
6.14.0</h1>
<h2><a class="anchor" id="autotoc_md21506"></a>
Patch Changes</h2>
<ul>
<li>Strip <code>basename</code> from locations provided to <code>unstable_useBlocker</code> functions to match <code>useLocation</code> (<a href="https://github.com/remix-run/react-router/pull/10573">#10573</a>)</li>
<li>Fix <code>generatePath</code> when passed a numeric <code>0</code> value parameter (<a href="https://github.com/remix-run/react-router/pull/10612">#10612</a>)</li>
<li>Fix <code>unstable_useBlocker</code> key issues in <code>StrictMode</code> (<a href="https://github.com/remix-run/react-router/pull/10573">#10573</a>)</li>
<li>Fix <code>tsc --skipLibCheck:false</code> issues on React 17 (<a href="https://github.com/remix-run/react-router/pull/10622">#10622</a>)</li>
<li>Upgrade <code>typescript</code> to 5.1 (<a href="https://github.com/remix-run/react-router/pull/10581">#10581</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.7.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21507"></a>
6.13.0</h1>
<h2><a class="anchor" id="autotoc_md21508"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Move <a href="https://react.dev/reference/react/startTransition"><code>React.startTransition</code></a> usage behind a <a href="https://reactrouter.com/v6/guides/api-development-strategy">future flag</a> to avoid issues with existing incompatible <code>Suspense</code> usages. We recommend folks adopting this flag to be better compatible with React concurrent mode, but if you run into issues you can continue without the use of <code>startTransition</code> until v7. Issues usually boils down to creating net-new promises during the render cycle, so if you run into issues you should either lift your promise creation out of the render cycle or put it behind a <code>useMemo</code>. (<a href="https://github.com/remix-run/react-router/pull/10596">#10596</a>)</p>
<p class="startli">Existing behavior will no longer include <code>React.startTransition</code>:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">&lt;RouterProvider router={router} /&gt;</div>
</div><!-- fragment --><p class="startli">If you wish to enable <code>React.startTransition</code>, pass the future flag to your component:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter future={{ v7_startTransition: true }}&gt;</div>
<div class="line">  &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">&lt;RouterProvider router={router} future={{ v7_startTransition: true }}/&gt;</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md21509"></a>
Patch Changes</h2>
<ul>
<li>Work around webpack/terser <code>React.startTransition</code> minification bug in production mode (<a href="https://github.com/remix-run/react-router/pull/10588">#10588</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21510"></a>
6.12.1</h1>
<blockquote class="doxtable">
<p>&zwj;[!WARNING] Please use version <code>6.13.0</code> or later instead of <code>6.12.1</code>. This version suffers from a <code>webpack</code>/<code>terser</code> minification issue resulting in invalid minified code in your resulting production bundles which can cause issues in your application. See <a href="https://github.com/remix-run/react-router/issues/10579">#10579</a> for more details. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md21511"></a>
Patch Changes</h2>
<ul>
<li>Adjust feature detection of <code>React.startTransition</code> to fix webpack + react 17 compilation error (<a href="https://github.com/remix-run/react-router/pull/10569">#10569</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21512"></a>
6.12.0</h1>
<h2><a class="anchor" id="autotoc_md21513"></a>
Minor Changes</h2>
<ul>
<li>Wrap internal router state updates with <code>React.startTransition</code> if it exists (<a href="https://github.com/remix-run/react-router/pull/10438">#10438</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21514"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.6.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21515"></a>
6.11.2</h1>
<h2><a class="anchor" id="autotoc_md21516"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>basename</code> duplication in descendant <code>&lt;Routes&gt;</code> inside a <code>&lt;RouterProvider&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/10492">#10492</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.6.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21517"></a>
6.11.1</h1>
<h2><a class="anchor" id="autotoc_md21518"></a>
Patch Changes</h2>
<ul>
<li>Fix usage of <code>Component</code> API within descendant <code>&lt;Routes&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/10434">#10434</a>)</li>
<li>Fix bug when calling <code>useNavigate</code> from <code>&lt;Routes&gt;</code> inside a <code>&lt;RouterProvider&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/10432">#10432</a>)</li>
<li>Fix usage of <code>&lt;Navigate&gt;</code> in strict mode when using a data router (<a href="https://github.com/remix-run/react-router/pull/10435">#10435</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.6.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21519"></a>
6.11.0</h1>
<h2><a class="anchor" id="autotoc_md21520"></a>
Patch Changes</h2>
<ul>
<li>Log loader/action errors to the console in dev for easier stack trace evaluation (<a href="https://github.com/remix-run/react-router/pull/10286">#10286</a>)</li>
<li>Fix bug preventing rendering of descendant <code>&lt;Routes&gt;</code> when <code>RouterProvider</code> errors existed (<a href="https://github.com/remix-run/react-router/pull/10374">#10374</a>)</li>
<li>Fix inadvertent re-renders when using <code>Component</code> instead of <code>element</code> on a route definition (<a href="https://github.com/remix-run/react-router/pull/10287">#10287</a>)</li>
<li>Fix detection of <code>useNavigate</code> in the render cycle by setting the <code>activeRef</code> in a layout effect, allowing the <code>navigate</code> function to be passed to child components and called in a <code>useEffect</code> there. (<a href="https://github.com/remix-run/react-router/pull/10394">#10394</a>)</li>
<li>Switched from <code>useSyncExternalStore</code> to <code>useState</code> for internal <code>@remix-run/router</code> router state syncing in <code>&lt;RouterProvider&gt;</code>. We found some <a href="https://codesandbox.io/s/use-sync-external-store-loop-9g7b81">subtle bugs</a> where router state updates got propagated <em>before</em> other normal <code>useState</code> updates, which could lead to footguns in <code>useEffect</code> calls. (<a href="https://github.com/remix-run/react-router/pull/10377">#10377</a>, <a href="https://github.com/remix-run/react-router/pull/10409">#10409</a>)</li>
<li>Allow <code>useRevalidator()</code> to resolve a loader-driven error boundary scenario (<a href="https://github.com/remix-run/react-router/pull/10369">#10369</a>)</li>
<li>Avoid unnecessary unsubscribe/resubscribes on router state changes (<a href="https://github.com/remix-run/react-router/pull/10409">#10409</a>)</li>
<li>When using a <code>RouterProvider</code>, <code>useNavigate</code>/<code>useSubmit</code>/<code>fetcher.submit</code> are now stable across location changes, since we can handle relative routing via the <code>@remix-run/router</code> instance and get rid of our dependence on <code>useLocation()</code>. When using <code>BrowserRouter</code>, these hooks remain unstable across location changes because they still rely on <code>useLocation()</code>. (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.6.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21521"></a>
6.10.0</h1>
<h2><a class="anchor" id="autotoc_md21522"></a>
Minor Changes</h2>
<ul>
<li>Added support for <a href="https://reactrouter.com/v6/guides/api-development-strategy"><b>Future Flags</b></a> in React Router. The first flag being introduced is <code>future.v7_normalizeFormMethod</code> which will normalize the exposed <code>useNavigation()/useFetcher()</code> <code>formMethod</code> fields as uppercase HTTP methods to align with the <code>fetch()</code> behavior. (<a href="https://github.com/remix-run/react-router/pull/10207">#10207</a>)<ul>
<li>When <code>future.v7_normalizeFormMethod === false</code> (default v6 behavior),<ul>
<li><code>useNavigation().formMethod</code> is lowercase</li>
<li><code>useFetcher().formMethod</code> is lowercase</li>
</ul>
</li>
<li>When <code>future.v7_normalizeFormMethod === true</code>:<ul>
<li><code>useNavigation().formMethod</code> is uppercase</li>
<li><code>useFetcher().formMethod</code> is uppercase</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21523"></a>
Patch Changes</h2>
<ul>
<li>Fix route ID generation when using Fragments in <code>createRoutesFromElements</code> (<a href="https://github.com/remix-run/react-router/pull/10193">#10193</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.5.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21524"></a>
6.9.0</h1>
<h2><a class="anchor" id="autotoc_md21525"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">React Router now supports an alternative way to define your route <code>element</code> and <code>errorElement</code> fields as React Components instead of React Elements. You can instead pass a React Component to the new <code>Component</code> and <code>ErrorBoundary</code> fields if you choose. There is no functional difference between the two, so use whichever approach you prefer üòÄ. You shouldn't be defining both, but if you do <code>Component</code>/<code>ErrorBoundary</code> will "win". (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli"><b>Example JSON Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  element: &lt;Home /&gt;,</div>
<div class="line">  errorElement: &lt;HomeError /&gt;,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">const componentRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  Component: Home,</div>
<div class="line">  ErrorBoundary: HomeError,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --><p class="startli"><b>Example JSX Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; element={&lt;Home /&gt;} errorElement={&lt;HomeError /&gt; } /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">const componentRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; Component={Home} ErrorBoundary={HomeError} /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>Introducing Lazy Route Modules!</b> (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli">In order to keep your application bundles small and support code-splitting of your routes, we've introduced a new <code>lazy()</code> route property. This is an async function that resolves the non-route-matching portions of your route definition (<code>loader</code>, <code>action</code>, <code>element</code>/<code>Component</code>, <code>errorElement</code>/<code>ErrorBoundary</code>, <code>shouldRevalidate</code>, <code>handle</code>).</p>
<p class="startli">Lazy routes are resolved on initial load and during the <code>loading</code> or <code>submitting</code> phase of a navigation or fetcher call. You cannot lazily define route-matching properties (<code>path</code>, <code>index</code>, <code>children</code>) since we only execute your lazy route functions after we've matched known routes.</p>
<p class="startli">Your <code>lazy</code> functions will typically return the result of a dynamic import.</p>
<div class="fragment"><div class="line">// In this example, we assume most folks land on the homepage so we include that</div>
<div class="line">// in our critical-path bundle, but then we lazily load modules for /a and /b so</div>
<div class="line">// they don&#39;t load until the user navigates to those routes</div>
<div class="line">let routes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&quot;/&quot; element={&lt;Layout /&gt;}&gt;</div>
<div class="line">    &lt;Route index element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;a&quot; lazy={() =&gt; import(&quot;./a&quot;)} /&gt;</div>
<div class="line">    &lt;Route path=&quot;b&quot; lazy={() =&gt; import(&quot;./b&quot;)} /&gt;</div>
<div class="line">  &lt;/Route&gt;</div>
<div class="line">);</div>
</div><!-- fragment --><p class="startli">Then in your lazy route modules, export the properties you want defined for the route:</p>
<div class="fragment"><div class="line">export async function loader({ request }) {</div>
<div class="line">  let data = await fetchData(request);</div>
<div class="line">  return json(data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export a `Component` directly instead of needing to create a React Element from it</div>
<div class="line">export function Component() {</div>
<div class="line">  let data = useLoaderData();</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      &lt;h1&gt;You made it!&lt;/h1&gt;</div>
<div class="line">      &lt;p&gt;{data}&lt;/p&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export an `ErrorBoundary` directly instead of needing to create a React Element from it</div>
<div class="line">export function ErrorBoundary() {</div>
<div class="line">  let error = useRouteError();</div>
<div class="line">  return isRouteErrorResponse(error) ? (</div>
<div class="line">    &lt;h1&gt;</div>
<div class="line">      {error.status} {error.statusText}</div>
<div class="line">    &lt;/h1&gt;</div>
<div class="line">  ) : (</div>
<div class="line">    &lt;h1&gt;{error.message || error}&lt;/h1&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">An example of this in action can be found in the <a href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading-router-provider"><code>examples/lazy-loading-router-provider</code></a> directory of the repository.</p>
<p class="startli">üôå Huge thanks to @rossipedia for the <a href="https://github.com/remix-run/react-router/discussions/9826">Initial Proposal</a> and <a href="https://github.com/remix-run/react-router/pull/9830">POC Implementation</a>.</p>
</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.4.0</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21526"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>generatePath</code> incorrectly applying parameters in some cases (<a href="https://github.com/remix-run/react-router/pull/10078">#10078</a>)</li>
<li>Improve memoization for context providers to avoid unnecessary re-renders (<a href="https://github.com/remix-run/react-router/pull/9983">#9983</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21527"></a>
6.8.2</h1>
<h2><a class="anchor" id="autotoc_md21528"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21529"></a>
6.8.1</h1>
<h2><a class="anchor" id="autotoc_md21530"></a>
Patch Changes</h2>
<ul>
<li>Remove inaccurate console warning for POP navigations and update active blocker logic (<a href="https://github.com/remix-run/react-router/pull/10030">#10030</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21531"></a>
6.8.0</h1>
<h2><a class="anchor" id="autotoc_md21532"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21533"></a>
6.7.0</h1>
<h2><a class="anchor" id="autotoc_md21534"></a>
Minor Changes</h2>
<ul>
<li>Add <code>unstable_useBlocker</code> hook for blocking navigations within the app's location origin (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21535"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>generatePath</code> when optional params are present (<a href="https://github.com/remix-run/react-router/pull/9764">#9764</a>)</li>
<li>Update <code>&lt;Await&gt;</code> to accept <code>ReactNode</code> as children function return result (<a href="https://github.com/remix-run/react-router/pull/9896">#9896</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21536"></a>
6.6.2</h1>
<h2><a class="anchor" id="autotoc_md21537"></a>
Patch Changes</h2>
<ul>
<li>Ensure <code>useId</code> consistency during SSR (<a href="https://github.com/remix-run/react-router/pull/9805">#9805</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21538"></a>
6.6.1</h1>
<h2><a class="anchor" id="autotoc_md21539"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.2.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21540"></a>
6.6.0</h1>
<h2><a class="anchor" id="autotoc_md21541"></a>
Patch Changes</h2>
<ul>
<li>Prevent <code>useLoaderData</code> usage in <code>errorElement</code> (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.2.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21542"></a>
6.5.0</h1>
<p>This release introduces support for <a href="https://github.com/remix-run/react-router/issues/9546">Optional Route Segments</a>. Now, adding a <code>?</code> to the end of any path segment will make that entire segment optional. This works for both static segments and dynamic parameters.</p>
<p><b>Optional Params Examples</b></p>
<ul>
<li><code>&lt;Route path=":lang?/about&gt;&lt;/tt&gt; will match:
  - &lt;tt&gt;/:lang/about&lt;/tt&gt;
  - &lt;tt&gt;/about&lt;/tt&gt;
- &lt;tt&gt;\&lt;Route path="/multistep/:widget1?/widget2?/widget3?"\&gt;&lt;/tt&gt; will match:
  - &lt;tt&gt;/multistep&lt;/tt&gt;
  - &lt;tt&gt;/multistep/:widget1&lt;/tt&gt;
  - &lt;tt&gt;/multistep/:widget1/:widget2&lt;/tt&gt;
  - &lt;tt&gt;/multistep/:widget1/:widget2/:widget3&lt;/tt&gt;

&lt;strong&gt;Optional Static Segment Example&lt;/strong&gt;

- &lt;tt&gt;\&lt;Route path="/home?"\&gt;&lt;/tt&gt; will match:
  - &lt;tt&gt;/&lt;/tt&gt;
  - &lt;tt&gt;/home&lt;/tt&gt;
- &lt;tt&gt;\&lt;Route path="/fr?/about"\&gt;&lt;/tt&gt; will match:
  - &lt;tt&gt;/about&lt;/tt&gt;
  - &lt;tt&gt;/fr/about&lt;/tt&gt;

@subsection autotoc_md21543 Minor Changes

- Allows optional routes and optional static segments (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9650">https://github.com/remix-run/react-router/pull/9650</a>" &gt;#9650&lt;/a&gt;)

@subsection autotoc_md21544 Patch Changes

- Stop incorrectly matching on partial named parameters, i.e. &lt;tt&gt;\&lt;Route path="prefix-:param"\&gt;&lt;/tt&gt;, to align with how splat parameters work. If you were previously relying on this behavior then it's recommended to extract the static portion of the path at the &lt;tt&gt;useParams&lt;/tt&gt; call site: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9506">https://github.com/remix-run/react-router/pull/9506</a>" &gt;#9506&lt;/a&gt;)

@icode{jsx} 
// Old behavior at URL /prefix-123
&lt;Route path="prefix-:id" element={&lt;Comp /&gt; }&gt;

function Comp() {
  let params = useParams(); // { id: '123' }
  let id = params.id; // "123"
  ...
}

// New behavior at URL /prefix-123
&lt;Route path=":id" element={&lt;Comp /&gt; }&gt;

function Comp() {
  let params = useParams(); // { id: 'prefix-123' }
  let id = params.id.replace(/^prefix-/, ''); // "123"
  ...
}
@endicode 

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.1.0&lt;/tt&gt;

@section autotoc_md21545 6.4.5

@subsection autotoc_md21546 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.0.5&lt;/tt&gt;

@section autotoc_md21547 6.4.4

@subsection autotoc_md21548 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.0.4&lt;/tt&gt;

@section autotoc_md21549 6.4.3

@subsection autotoc_md21550 Patch Changes

- &lt;tt&gt;useRoutes&lt;/tt&gt; should be able to return &lt;tt&gt;null&lt;/tt&gt; when passing &lt;tt&gt;locationArg&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9485">https://github.com/remix-run/react-router/pull/9485</a>" &gt;#9485&lt;/a&gt;)
- fix &lt;tt&gt;initialEntries&lt;/tt&gt; type in &lt;tt&gt;createMemoryRouter&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9498">https://github.com/remix-run/react-router/pull/9498</a>" &gt;#9498&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.0.3&lt;/tt&gt;

@section autotoc_md21551 6.4.2

@subsection autotoc_md21552 Patch Changes

- Fix &lt;tt&gt;IndexRouteObject&lt;/tt&gt; and &lt;tt&gt;NonIndexRouteObject&lt;/tt&gt; types to make &lt;tt&gt;hasErrorElement&lt;/tt&gt; optional (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9394">https://github.com/remix-run/react-router/pull/9394</a>" &gt;#9394&lt;/a&gt;)
- Enhance console error messages for invalid usage of data router hooks (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9311">https://github.com/remix-run/react-router/pull/9311</a>" &gt;#9311&lt;/a&gt;)
- If an index route has children, it will result in a runtime error. We have strengthened our &lt;tt&gt;RouteObject&lt;/tt&gt;/&lt;tt&gt;RouteProps&lt;/tt&gt; types to surface the error in TypeScript. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9366">https://github.com/remix-run/react-router/pull/9366</a>" &gt;#9366&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.0.2&lt;/tt&gt;

@section autotoc_md21553 6.4.1

@subsection autotoc_md21554 Patch Changes

- Preserve state from &lt;tt&gt;initialEntries&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/9288">https://github.com/remix-run/react-router/pull/9288</a>" &gt;#9288&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.0.1&lt;/tt&gt;

@section autotoc_md21555 6.4.0

Whoa this is a big one! &lt;tt&gt;6.4.0&lt;/tt&gt; brings all the data loading and mutation APIs over from Remix. Here's a quick high level overview, but it's recommended you go check out the &lt;a href="<a href="https://reactrouter.com">https://reactrouter.com</a>" &gt;docs&lt;/a&gt;, especially the &lt;a href="<a href="https://reactrouter.com/en/6.4.0/start/overview">https://reactrouter.com/en/6.4.0/start/overview</a>" &gt;feature overview&lt;/a&gt; and the &lt;a href="<a href="https://reactrouter.com/en/6.4.0/start/tutorial">https://reactrouter.com/en/6.4.0/start/tutorial</a>" &gt;tutorial.</code></li>
</ul>
<p><code><b>New APIs</b></code></p>
<p><code></p><ul>
<li>Create your router with <code>createMemoryRouter</code></li>
<li>Render your router with <code>&lt;RouterProvider&gt;</code></li>
<li>Load data with a Route <code>loader</code> and mutate with a Route <code>action</code></li>
<li>Handle errors with Route <code>errorElement</code></li>
<li>Defer non-critical data with <code>defer</code> and <code>Await</code></li>
</ul>
<p></code></p>
<p><code><b>Bug Fixes</b></code></p>
<p><code></p><ul>
<li>Path resolution is now trailing slash agnostic (#8861)</li>
<li><code>useLocation</code> returns the scoped location inside a <code>&lt;Routes location&gt;</code> component (#9094)</li>
</ul>
<p></code></p>
<p><code><b>Updated Dependencies</b></code></p>
<p><code></p><ul>
<li><code>@remix-run/router@1.0.0</code> </li>
</ul>
<p></code></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
