<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://www.npmjs.com/package/@rollup/plugin-node-resolve"><img src="https://img.shields.io/npm/v/@rollup/plugin-node-resolve" alt="npm" class="inline"/></a> <a href="https://packagephobia.now.sh/result?p=@rollup/plugin-node-resolve"><img src="https://packagephobia.now.sh/badge?p=@rollup/plugin-node-resolve" alt="size" class="inline"/></a> <a href="https://liberamanifesto.com"><img src="https://img.shields.io/badge/libera-manifesto-lightgrey.svg" alt="libera manifesto" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md2031"></a>
@rollup/plugin-node-resolve</h1>
<p>üç£ A Rollup plugin which locates modules using the <a href="https://nodejs.org/api/modules.html#modules_all_together">Node resolution algorithm</a>, for using third party modules in <code>node_modules</code></p>
<h2><a class="anchor" id="autotoc_md2032"></a>
Requirements</h2>
<p>This plugin requires an <a href="https://github.com/nodejs/Release">LTS</a> Node version (v8.0.0+) and Rollup v1.20.0+.</p>
<h2><a class="anchor" id="autotoc_md2033"></a>
Install</h2>
<p>Using npm:</p>
<div class="fragment"><div class="line">npm install @rollup/plugin-node-resolve --save-dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2034"></a>
Usage</h2>
<p>Create a <code>rollup.config.js</code> <a href="https://www.rollupjs.org/guide/en/#configuration-files">configuration file</a> and import the plugin:</p>
<div class="fragment"><div class="line">import { nodeResolve } from &#39;@rollup/plugin-node-resolve&#39;;</div>
<div class="line"> </div>
<div class="line">export default {</div>
<div class="line">  input: &#39;src/index.js&#39;,</div>
<div class="line">  output: {</div>
<div class="line">    dir: &#39;output&#39;,</div>
<div class="line">    format: &#39;cjs&#39;</div>
<div class="line">  },</div>
<div class="line">  plugins: [nodeResolve()]</div>
<div class="line">};</div>
</div><!-- fragment --><p>Then call <code>rollup</code> either via the <a href="https://www.rollupjs.org/guide/en/#command-line-reference">CLI</a> or the <a href="https://www.rollupjs.org/guide/en/#javascript-api">API</a>.</p>
<h2><a class="anchor" id="autotoc_md2035"></a>
Package entrypoints</h2>
<p>This plugin supports the package entrypoints feature from node js, specified in the <code>exports</code> or <code>imports</code> field of a package. Check the <a href="https://nodejs.org/api/packages.html#packages_package_entry_points">official documentation</a> for more information on how this works. This is the default behavior. In the abscence of these fields, the fields in <code>mainFields</code> will be the ones to be used.</p>
<h2><a class="anchor" id="autotoc_md2036"></a>
Options</h2>
<h3><a class="anchor" id="autotoc_md2037"></a>
<code>exportConditions</code></h3>
<p>Type: <code>Array[...String]</code><br  />
 Default: <code>[]</code></p>
<p>Additional conditions of the package.json exports field to match when resolving modules. By default, this plugin looks for the &lsquo;['default&rsquo;, 'module', 'import']` conditions when resolving imports.</p>
<p>When using <code>@rollup/plugin-commonjs</code> v16 or higher, this plugin will use the &lsquo;['default&rsquo;, 'module', 'require']` conditions when resolving require statements.</p>
<p>Setting this option will add extra conditions on top of the default conditions. See <a href="https://nodejs.org/api/packages.html#packages_conditional_exports">https://nodejs.org/api/packages.html#packages_conditional_exports</a> for more information.</p>
<h3><a class="anchor" id="autotoc_md2038"></a>
<code>browser</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, instructs the plugin to use the <code>"browser"</code> property in <code>package.json</code> files to specify alternative files to load for bundling. This is useful when bundling for a browser environment. Alternatively, a value of &lsquo;'browser&rsquo;<code>can be added to the</code>mainFields<code>option. If</code>false<code>, any</code>"browser"<code>properties in package files will be ignored. This option takes precedence over</code>mainFields`.</p>
<blockquote class="doxtable">
<p>&zwj;This option does not work when a package is using <a href="https://nodejs.org/api/packages.html#packages_package_entry_points">package entrypoints</a> </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md2039"></a>
<code>moduleDirectories</code></h3>
<p>Type: <code>Array[...String]</code><br  />
 Default: &lsquo;['node_modules&rsquo;]`</p>
<p>One or more directories in which to recursively look for modules.</p>
<h3><a class="anchor" id="autotoc_md2040"></a>
<code>dedupe</code></h3>
<p>Type: <code>Array[...String]</code><br  />
 Default: <code>[]</code></p>
<p>An <code>Array</code> of modules names, which instructs the plugin to force resolving for the specified modules to the root <code>node_modules</code>. Helps to prevent bundling the same package multiple times if package is imported from dependencies.</p>
<div class="fragment"><div class="line">dedupe: [&#39;my-package&#39;, &#39;@namespace/my-package&#39;];</div>
</div><!-- fragment --><p>This will deduplicate bare imports such as:</p>
<div class="fragment"><div class="line">import &#39;my-package&#39;;</div>
<div class="line">import &#39;@namespace/my-package&#39;;</div>
</div><!-- fragment --><p>And it will deduplicate deep imports such as:</p>
<div class="fragment"><div class="line">import &#39;my-package/foo.js&#39;;</div>
<div class="line">import &#39;@namespace/my-package/bar.js&#39;;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2041"></a>
<code>extensions</code></h3>
<p>Type: <code>Array[...String]</code><br  />
 Default: &lsquo;[&rsquo;.mjs', '.js', '.json', '.node']`</p>
<p>Specifies the extensions of files that the plugin will operate on.</p>
<h3><a class="anchor" id="autotoc_md2042"></a>
<code>jail</code></h3>
<p>Type: <code>String</code><br  />
 Default: &lsquo;&rsquo;/'`</p>
<p>Locks the module search within specified path (e.g. chroot). Modules defined outside this path will be ignored by this plugin.</p>
<h3><a class="anchor" id="autotoc_md2043"></a>
<code>mainFields</code></h3>
<p>Type: <code>Array[...String]</code><br  />
 Default: &lsquo;['module&rsquo;, 'main']<code>&lt;br&gt; Valid values:</code>['browser', 'jsnext:main', 'module', 'main']`</p>
<p>Specifies the properties to scan within a <code>package.json</code>, used to determine the bundle entry point. The order of property names is significant, as the first-found property is used as the resolved entry point. If the array contains &lsquo;'browser&rsquo;<code>, key/values specified in the</code>package.jsonbrowser` property will be used.</p>
<h3><a class="anchor" id="autotoc_md2044"></a>
<code>preferBuiltins</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>true</code> (with warnings if a builtin module is used over a local version. Set to <code>true</code> to disable warning.)</p>
<p>If <code>true</code>, the plugin will prefer built-in modules (e.g. <code>fs</code>, <code>path</code>). If <code>false</code>, the plugin will look for locally installed modules of the same name.</p>
<h3><a class="anchor" id="autotoc_md2045"></a>
<code>modulesOnly</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, inspect resolved files to assert that they are ES2015 modules.</p>
<h3><a class="anchor" id="autotoc_md2046"></a>
<code>resolveOnly</code></h3>
<p>Type: <code>Array[...String|RegExp]</code><br  />
 Default: <code>null</code></p>
<p>An <code>Array</code> which instructs the plugin to limit module resolution to those whose names match patterns in the array. <em>Note: Modules not matching any patterns will be marked as external.</em></p>
<p>Example: &lsquo;resolveOnly: ['batman&rsquo;, /^@batcave\/.*$/]`</p>
<h3><a class="anchor" id="autotoc_md2047"></a>
<code>rootDir</code></h3>
<p>Type: <code>String</code><br  />
 Default: <code>process.cwd()</code></p>
<p>Specifies the root directory from which to resolve modules. Typically used when resolving entry-point imports, and when resolving deduplicated modules. Useful when executing rollup in a package of a mono-repository.</p>
<div class="fragment"><div class="line">// Set the root directory to be the parent folder</div>
<div class="line">rootDir: path.join(process.cwd(), &#39;..&#39;)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2048"></a>
<code>ignoreSideEffectsForRoot</code></h2>
<p>If you use the <code>sideEffects</code> property in the package.json, by default this is respected for files in the root package. Set to <code>true</code> to ignore the <code>sideEffects</code> configuration for the root package.</p>
<h2><a class="anchor" id="autotoc_md2049"></a>
Preserving symlinks</h2>
<p>This plugin honours the rollup <a href="https://rollupjs.org/guide/en/#preservesymlinks"><code>preserveSymlinks</code></a> option.</p>
<h2><a class="anchor" id="autotoc_md2050"></a>
Using with @rollup/plugin-commonjs</h2>
<p>Since most packages in your node_modules folder are probably legacy CommonJS rather than JavaScript modules, you may need to use <a href="https://github.com/rollup/plugins/tree/master/packages/commonjs">@rollup/plugin-commonjs</a>:</p>
<div class="fragment"><div class="line">// rollup.config.js</div>
<div class="line">import { nodeResolve } from &#39;@rollup/plugin-node-resolve&#39;;</div>
<div class="line">import commonjs from &#39;@rollup/plugin-commonjs&#39;;</div>
<div class="line"> </div>
<div class="line">export default {</div>
<div class="line">  input: &#39;main.js&#39;,</div>
<div class="line">  output: {</div>
<div class="line">    file: &#39;bundle.js&#39;,</div>
<div class="line">    format: &#39;iife&#39;,</div>
<div class="line">    name: &#39;MyModule&#39;</div>
<div class="line">  },</div>
<div class="line">  plugins: [nodeResolve(), commonjs()]</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2051"></a>
Resolving Built-Ins (like <code>fs</code>)</h2>
<p>By default this plugin will prefer built-ins over local modules, marking them as external.</p>
<p>See `preferBuiltins`.</p>
<p>To provide stubbed versions of Node built-ins, use a plugin like <a href="https://github.com/ionic-team/rollup-plugin-node-polyfills">rollup-plugin-node-polyfills</a> and set <code>preferBuiltins</code> to <code>false</code>. e.g.</p>
<div class="fragment"><div class="line">import { nodeResolve } from &#39;@rollup/plugin-node-resolve&#39;;</div>
<div class="line">import nodePolyfills from &#39;rollup-plugin-node-polyfills&#39;;</div>
<div class="line">export default ({</div>
<div class="line">  input: ...,</div>
<div class="line">  plugins: [</div>
<div class="line">    nodePolyfills(),</div>
<div class="line">    nodeResolve({ preferBuiltins: false })</div>
<div class="line">  ],</div>
<div class="line">  external: builtins,</div>
<div class="line">  output: ...</div>
<div class="line">})</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2052"></a>
Resolving require statements</h2>
<p>According to <a href="https://nodejs.org/api/packages.html#packages_package_entry_points">NodeJS module resolution</a> <code>require</code> statements should resolve using the <code>require</code> condition in the package exports field, while es modules should use the <code>import</code> condition.</p>
<p>The node resolve plugin uses <code>import</code> by default, you can opt into using the <code>require</code> semantics by passing an extra option to the resolve function:</p>
<div class="fragment"><div class="line">this.resolve(importee, importer, {</div>
<div class="line">  skipSelf: true,</div>
<div class="line">  custom: { &#39;node-resolve&#39;: { isRequire: true } }</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2053"></a>
Meta</h2>
<p>CONTRIBUTING</p>
<p><a href="/LICENSE">LICENSE (MIT)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
