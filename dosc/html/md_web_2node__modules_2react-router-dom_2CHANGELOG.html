<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: &lt;tt&gt;react-router-dom&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">&lt;tt&gt;react-router-dom&lt;/tt&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md21313"></a> </p>
<h1><a class="anchor" id="autotoc_md21314"></a>
6.28.0</h1>
<h2><a class="anchor" id="autotoc_md21315"></a>
Minor Changes</h2>
<ul>
<li>- Log deprecation warnings for v7 flags (<a href="https://github.com/remix-run/react-router/pull/11750">#11750</a>)<ul>
<li>Add deprecation warnings to <code>json</code>/<code>defer</code> in favor of returning raw objects<ul>
<li>These methods will be removed in React Router v7</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21316"></a>
Patch Changes</h2>
<ul>
<li>Update JSDoc URLs for new website structure (add /v6/ segment) (<a href="https://github.com/remix-run/react-router/pull/12141">#12141</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.28.0</code></li>
<li><code>@remix-run/router@1.21.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21317"></a>
6.27.0</h1>
<h2><a class="anchor" id="autotoc_md21318"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <code>unstable_patchRoutesOnNavigation</code> (<a href="https://github.com/remix-run/react-router/pull/11973">#11973</a>)<ul>
<li>Add new <code>PatchRoutesOnNavigationFunctionArgs</code> type for convenience (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
</ul>
</li>
<li>Stabilize <code>unstable_dataStrategy</code> (<a href="https://github.com/remix-run/react-router/pull/11974">#11974</a>)</li>
<li>Stabilize the <code>unstable_flushSync</code> option for navigations and fetchers (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
<li>Stabilize the <code>unstable_viewTransition</code> option for navigations and the corresponding <code>unstable_useViewTransitionState</code> hook (<a href="https://github.com/remix-run/react-router/pull/11989">#11989</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21319"></a>
Patch Changes</h2>
<ul>
<li>Fix bug when submitting to the current contextual route (parent route with an index child) when an <code>?index</code> param already exists from a prior submission (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix <code>useFormAction</code> bug - when removing <code>?index</code> param it would not keep other non-Remix <code>index</code> params (<a href="https://github.com/remix-run/react-router/pull/12003">#12003</a>)</li>
<li>Fix types for <code>RouteObject</code> within <code>PatchRoutesOnNavigationFunction</code>'s <code>patch</code> method so it doesn't expect agnostic route objects passed to <code>patch</code> (<a href="https://github.com/remix-run/react-router/pull/11967">#11967</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.27.0</code></li>
<li><code>@remix-run/router@1.20.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21320"></a>
6.26.2</h1>
<h2><a class="anchor" id="autotoc_md21321"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.2</code></li>
<li><code>react-router@6.26.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21322"></a>
6.26.1</h1>
<h2><a class="anchor" id="autotoc_md21323"></a>
Patch Changes</h2>
<ul>
<li>Rename <code>unstable_patchRoutesOnMiss</code> to <code>unstable_patchRoutesOnNavigation</code> to match new behavior (<a href="https://github.com/remix-run/react-router/pull/11888">#11888</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.1</code></li>
<li><code>react-router@6.26.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21324"></a>
6.26.0</h1>
<h2><a class="anchor" id="autotoc_md21325"></a>
Minor Changes</h2>
<ul>
<li>Add a new <code>replace(url, init?)</code> alternative to <code>redirect(url, init?)</code> that performs a <code>history.replaceState</code> instead of a <code>history.pushState</code> on client-side navigation redirects (<a href="https://github.com/remix-run/react-router/pull/11811">#11811</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21326"></a>
Patch Changes</h2>
<ul>
<li>Fix initial hydration behavior when using <code>future.v7_partialHydration</code> along with <code>unstable_patchRoutesOnMiss</code> (<a href="https://github.com/remix-run/react-router/pull/11838">#11838</a>)<ul>
<li>During initial hydration, <code>router.state.matches</code> will now include any partial matches so that we can render ancestor <code>HydrateFallback</code> components</li>
</ul>
</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.19.0</code></li>
<li><code>react-router@6.26.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21327"></a>
6.25.1</h1>
<h2><a class="anchor" id="autotoc_md21328"></a>
Patch Changes</h2>
<ul>
<li>Memoize some <code>RouterProvider</code> internals to reduce unnecessary re-renders (<a href="https://github.com/remix-run/react-router/pull/11803">#11803</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.25.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21329"></a>
6.25.0</h1>
<h2><a class="anchor" id="autotoc_md21330"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <code>future.unstable_skipActionErrorRevalidation</code> as <code>future.v7_skipActionErrorRevalidation</code> (<a href="https://github.com/remix-run/react-router/pull/11769">#11769</a>)<ul>
<li>When this flag is enabled, actions will not automatically trigger a revalidation if they return/throw a <code>Response</code> with a <code>4xx</code>/<code>5xx</code> status code</li>
<li>You may still opt-into revalidation via <code>shouldRevalidate</code></li>
<li>This also changes <code>shouldRevalidate</code>'s <code>unstable_actionStatus</code> parameter to <code>actionStatus</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21331"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.25.0</code></li>
<li><code>@remix-run/router@1.18.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21332"></a>
6.24.1</h1>
<h2><a class="anchor" id="autotoc_md21333"></a>
Patch Changes</h2>
<ul>
<li>Remove <code>polyfill.io</code> reference from warning message because the domain was sold and has since been determined to serve malware (<a href="https://github.com/remix-run/react-router/pull/11741">#11741</a>)<ul>
<li>See <a href="https://sansec.io/research/polyfill-supply-chain-attack">https://sansec.io/research/polyfill-supply-chain-attack</a></li>
</ul>
</li>
<li>Export <code>NavLinkRenderProps</code> type for easier typing of custom <code>NavLink</code> callback (<a href="https://github.com/remix-run/react-router/pull/11553">#11553</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.17.1</code></li>
<li><code>react-router@6.24.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21334"></a>
6.24.0</h1>
<h2><a class="anchor" id="autotoc_md21335"></a>
Minor Changes</h2>
<ul>
<li>Add support for Lazy Route Discovery (a.k.a. Fog of War) (<a href="https://github.com/remix-run/react-router/pull/11626">#11626</a>)<ul>
<li>RFC: <a href="https://github.com/remix-run/react-router/discussions/11113">https://github.com/remix-run/react-router/discussions/11113</a></li>
<li><code>unstable_patchRoutesOnMiss</code> docs: <a href="https://reactrouter.com/v6/routers/create-browser-router">https://reactrouter.com/v6/routers/create-browser-router</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21336"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>fetcher.submit</code> types - remove incorrect <code>navigate</code>/<code>fetcherKey</code>/<code>unstable_viewTransition</code> options because they are only relevant for <code>useSubmit</code> (<a href="https://github.com/remix-run/react-router/pull/11631">#11631</a>)</li>
<li>Allow falsy <code>location.state</code> values passed to <code>&lt;StaticRouter&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/11495">#11495</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.24.0</code></li>
<li><code>@remix-run/router@1.17.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21337"></a>
6.23.1</h1>
<h2><a class="anchor" id="autotoc_md21338"></a>
Patch Changes</h2>
<ul>
<li>Check for <code>document</code> existence when checking <code>startViewTransition</code> (<a href="https://github.com/remix-run/react-router/pull/11544">#11544</a>)</li>
<li>Change the <code>react-router-dom/server</code> import back to <code>react-router-dom</code> instead of <code>index.ts</code> (<a href="https://github.com/remix-run/react-router/pull/11514">#11514</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.16.1</code></li>
<li><code>react-router@6.23.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21339"></a>
6.23.0</h1>
<h2><a class="anchor" id="autotoc_md21340"></a>
Minor Changes</h2>
<ul>
<li>Add a new <code>unstable_dataStrategy</code> configuration option (<a href="https://github.com/remix-run/react-router/pull/11098">#11098</a>)<ul>
<li>This option allows Data Router applications to take control over the approach for executing route loaders and actions</li>
<li>The default implementation is today's behavior, to fetch all loaders in parallel, but this option allows users to implement more advanced data flows including Remix single-fetch, middleware/context APIs, automatic loader caching, and more</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21341"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.16.0</code></li>
<li><code>react-router@6.23.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21342"></a>
6.22.3</h1>
<h2><a class="anchor" id="autotoc_md21343"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.3</code></li>
<li><code>react-router@6.22.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21344"></a>
6.22.2</h1>
<h2><a class="anchor" id="autotoc_md21345"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.2</code></li>
<li><code>react-router@6.22.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21346"></a>
6.22.1</h1>
<h2><a class="anchor" id="autotoc_md21347"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.22.1</code></li>
<li><code>@remix-run/router@1.15.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21348"></a>
6.22.0</h1>
<h2><a class="anchor" id="autotoc_md21349"></a>
Minor Changes</h2>
<ul>
<li>Include a <code>window__reactRouterVersion</code> tag for CWV Report detection (<a href="https://github.com/remix-run/react-router/pull/11222">#11222</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21350"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.15.0</code></li>
<li><code>react-router@6.22.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21351"></a>
6.21.3</h1>
<h2><a class="anchor" id="autotoc_md21352"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>NavLink</code> <code>isPending</code> when a <code>basename</code> is used (<a href="https://github.com/remix-run/react-router/pull/11195">#11195</a>)</li>
<li>Remove leftover <code>unstable_</code> prefix from <code>Blocker</code>/<code>BlockerFunction</code> types (<a href="https://github.com/remix-run/react-router/pull/11187">#11187</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.21.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21353"></a>
6.21.2</h1>
<h2><a class="anchor" id="autotoc_md21354"></a>
Patch Changes</h2>
<ul>
<li>Leverage <code>useId</code> for internal fetcher keys when available (<a href="https://github.com/remix-run/react-router/pull/11166">#11166</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.14.2</code></li>
<li><code>react-router@6.21.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21355"></a>
6.21.1</h1>
<h2><a class="anchor" id="autotoc_md21356"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.21.1</code></li>
<li><code>@remix-run/router@1.14.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21357"></a>
6.21.0</h1>
<h2><a class="anchor" id="autotoc_md21358"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add a new <code>future.v7_relativeSplatPath</code> flag to implement a breaking bug fix to relative routing when inside a splat route. (<a href="https://github.com/remix-run/react-router/pull/11087">#11087</a>)</p>
<p class="startli">This fix was originally added in <a href="https://github.com/remix-run/react-router/issues/10983">#10983</a> and was later reverted in <a href="https://github.com/remix-run/react-router/pull/11078">#11078</a> because it was determined that a large number of existing applications were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052">#11052</a>)</p>
<p class="startli"><b>The Bug</b> The buggy behavior is that without this flag, the default behavior when resolving relative paths is to <em>ignore</em> any splat (<code>*</code>) portion of the current route path.</p>
<p class="startli"><b>The Background</b> This decision was originally made thinking that it would make the concept of nested different sections of your apps in <code>&lt;Routes&gt;</code> easier if relative routing would <em>replace</em> the current splat:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard/*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Any paths like <code>/dashboard</code>, <code>/dashboard/team</code>, <code>/dashboard/projects</code> will match the <code>Dashboard</code> route. The dashboard component itself can then render nested <code>&lt;Routes&gt;</code>:</p>
<div class="fragment"><div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;/&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Routes&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">Now, all links and route paths are relative to the router above them. This makes code splitting and compartmentalizing your app really easy. You could render the <code>Dashboard</code> as its own independent app, or embed it into your large app without making any changes to it.</p>
<p class="startli"><b>The Problem</b></p>
<p class="startli">The problem is that this concept of ignoring part of a path breaks a lot of other assumptions in React Router - namely that <code>"."</code> always means the current location pathname for that route. When we ignore the splat portion, we start getting invalid paths when using <code>"."</code>:</p>
<div class="fragment"><div class="line">// If we are on URL /dashboard/team, and we want to link to /dashboard/team:</div>
<div class="line">function DashboardTeam() {</div>
<div class="line">  // ❌ This is broken and results in &lt;a href=&quot;/dashboard&quot;&gt;</div>
<div class="line">  return &lt;Link to=&quot;.&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line"> </div>
<div class="line">  // ✅ This is fixed but super unintuitive since we&#39;re already at /dashboard/team!</div>
<div class="line">  return &lt;Link to=&quot;./team&quot;&gt;A broken link to the Current URL&lt;/Link&gt;;</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">We've also introduced an issue that we can no longer move our <code>DashboardTeam</code> component around our route hierarchy easily - since it behaves differently if we're underneath a non-splat route, such as <code>/dashboard/:widget</code>. Now, our <code>"."</code> links will, properly point to ourself <em>inclusive of the dynamic param value</em> so behavior will break from it's corresponding usage in a <code>/dashboard/*</code> route.</p>
<p class="startli">Even worse, consider a nested splat route configuration:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
</div><!-- fragment --><p class="startli">Now, a <code>&lt;Link to="."&gt;</code> and a <code>&lt;Link to=".."&gt;</code> inside the <code>Dashboard</code> component go to the same place! That is definitely not correct!</p>
<p class="startli">Another common issue arose in Data Routers (and Remix) where any <code>&lt;Form&gt;</code> should post to it's own route <code>action</code> if you the user doesn't specify a form action:</p>
<div class="fragment"><div class="line">let router = createBrowserRouter({</div>
<div class="line">  path: &quot;/dashboard&quot;,</div>
<div class="line">  children: [</div>
<div class="line">    {</div>
<div class="line">      path: &quot;*&quot;,</div>
<div class="line">      action: dashboardAction,</div>
<div class="line">      Component() {</div>
<div class="line">        // ❌ This form is broken!  It throws a 405 error when it submits because</div>
<div class="line">        // it tries to submit to /dashboard (without the splat value) and the parent</div>
<div class="line">        // `/dashboard` route doesn&#39;t have an action</div>
<div class="line">        return &lt;Form method=&quot;post&quot;&gt;...&lt;/Form&gt;;</div>
<div class="line">      },</div>
<div class="line">    },</div>
<div class="line">  ],</div>
<div class="line">});</div>
</div><!-- fragment --><p class="startli">This is just a compounded issue from the above because the default location for a <code>Form</code> to submit to is itself (<code>"."</code>) - and if we ignore the splat portion, that now resolves to the parent route.</p>
<p class="startli"><b>The Solution</b> If you are leveraging this behavior, it's recommended to enable the future flag, move your splat to it's own route, and leverage <code>../</code> for any links to "sibling" pages:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;</div>
<div class="line">    &lt;Route path=&quot;dashboard&quot;&gt;</div>
<div class="line">      &lt;Route index path=&quot;*&quot; element={&lt;Dashboard /&gt;} /&gt;</div>
<div class="line">    &lt;/Route&gt;</div>
<div class="line">  &lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">function Dashboard() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;h2&gt;Dashboard&lt;/h2&gt;</div>
<div class="line">      &lt;nav&gt;</div>
<div class="line">        &lt;Link to=&quot;..&quot;&gt;Dashboard Home&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../team&quot;&gt;Team&lt;/Link&gt;</div>
<div class="line">        &lt;Link to=&quot;../projects&quot;&gt;Projects&lt;/Link&gt;</div>
<div class="line">      &lt;/nav&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;Routes&gt;</div>
<div class="line">        &lt;Route path=&quot;/&quot; element={&lt;DashboardHome /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;team&quot; element={&lt;DashboardTeam /&gt;} /&gt;</div>
<div class="line">        &lt;Route path=&quot;projects&quot; element={&lt;DashboardProjects /&gt;} /&gt;</div>
<div class="line">      &lt;/Router&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">This way, <code>.</code> means "the full current pathname for my route" in all cases (including static, dynamic, and splat routes) and <code>..</code> always means "my parents pathname".</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21359"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.14.0</code></li>
<li><code>react-router@6.21.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21360"></a>
6.20.1</h1>
<h2><a class="anchor" id="autotoc_md21361"></a>
Patch Changes</h2>
<ul>
<li>Revert the <code>useResolvedPath</code> fix for splat routes due to a large number of applications that were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329">https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329</a>). We plan to re-introduce this fix behind a future flag in the next minor version. (<a href="https://github.com/remix-run/react-router/pull/11078">#11078</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.20.1</code></li>
<li><code>@remix-run/router@1.13.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21362"></a>
6.20.0</h1>
<h2><a class="anchor" id="autotoc_md21363"></a>
Minor Changes</h2>
<ul>
<li>Export the <code>PathParam</code> type from the public API (<a href="https://github.com/remix-run/react-router/pull/10719">#10719</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21364"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.20.0</code></li>
<li><code>@remix-run/router@1.13.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21365"></a>
6.19.0</h1>
<h2><a class="anchor" id="autotoc_md21366"></a>
Minor Changes</h2>
<ul>
<li>Add <code>unstable_flushSync</code> option to <code>useNavigate</code>/<code>useSumbit</code>/<code>fetcher.load</code>/<code>fetcher.submit</code> to opt-out of <code>React.startTransition</code> and into <code>ReactDOM.flushSync</code> for state updates (<a href="https://github.com/remix-run/react-router/pull/11005">#11005</a>)</li>
<li>Allow <code>unstable_usePrompt</code> to accept a <code>BlockerFunction</code> in addition to a <code>boolean</code> (<a href="https://github.com/remix-run/react-router/pull/10991">#10991</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21367"></a>
Patch Changes</h2>
<ul>
<li>Fix issue where a changing fetcher <code>key</code> in a <code>useFetcher</code> that remains mounted wasn't getting picked up (<a href="https://github.com/remix-run/react-router/pull/11009">#11009</a>)</li>
<li>Fix <code>useFormAction</code> which was incorrectly inheriting the <code>?index</code> query param from child route <code>action</code> submissions (<a href="https://github.com/remix-run/react-router/pull/11025">#11025</a>)</li>
<li>Fix <code>NavLink</code> <code>active</code> logic when <code>to</code> location has a trailing slash (<a href="https://github.com/remix-run/react-router/pull/10734">#10734</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.19.0</code></li>
<li><code>@remix-run/router@1.12.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21368"></a>
6.18.0</h1>
<h2><a class="anchor" id="autotoc_md21369"></a>
Minor Changes</h2>
<ul>
<li>Add support for manual fetcher key specification via <code>useFetcher({ key: string })</code> so you can access the same fetcher instance from different components in your application without prop-drilling (<a href="https://github.com/remix-run/remix/discussions/7698">RFC</a>) (<a href="https://github.com/remix-run/react-router/pull/10960">#10960</a>)<ul>
<li>Fetcher keys are now also exposed on the fetchers returned from <code>useFetchers</code> so that they can be looked up by <code>key</code></li>
</ul>
</li>
<li>Add <code>navigate</code>/<code>fetcherKey</code> params/props to <code>useSumbit</code>/<code>Form</code> to support kicking off a fetcher submission under the hood with an optionally user-specified <code>key</code> (<a href="https://github.com/remix-run/react-router/pull/10960">#10960</a>)<ul>
<li>Invoking a fetcher in this way is ephemeral and stateless</li>
<li>If you need to access the state of one of these fetchers, you will need to leverage <code>useFetcher({ key })</code> to look it up elsewhere</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21370"></a>
Patch Changes</h2>
<ul>
<li>Adds a fetcher context to <code>RouterProvider</code> that holds completed fetcher data, in preparation for the upcoming future flag that will change the fetcher persistence/cleanup behavior (<a href="https://github.com/remix-run/react-router/pull/10961">#10961</a>)</li>
<li>Fix the <code>future</code> prop on <code>BrowserRouter</code>, <code>HashRouter</code> and <code>MemoryRouter</code> so that it accepts a <code>Partial&lt;FutureConfig&gt;</code> instead of requiring all flags to be included. (<a href="https://github.com/remix-run/react-router/pull/10962">#10962</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.11.0</code></li>
<li><code>react-router@6.18.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21371"></a>
6.17.0</h1>
<h2><a class="anchor" id="autotoc_md21372"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add experimental support for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition">View Transitions API</a> via <code>document.startViewTransition</code> to enable CSS animated transitions on SPA navigations in your application. (<a href="https://github.com/remix-run/react-router/pull/10916">#10916</a>)</p>
<p class="startli">The simplest approach to enabling a View Transition in your React Router app is via the new <code>&lt;Link unstable_viewTransition&gt;</code> prop. This will cause the navigation DOM update to be wrapped in <code>document.startViewTransition</code> which will enable transitions for the DOM update. Without any additional CSS styles, you'll get a basic cross-fade animation for your page.</p>
<p class="startli">If you need to apply more fine-grained styles for your animations, you can leverage the <code>unstable_useViewTransitionState</code> hook which will tell you when a transition is in progress and you can use that to apply classes or styles:</p>
<div class="fragment"><div class="line">function ImageLink(to, src, alt) {</div>
<div class="line">  let isTransitioning = unstable_useViewTransitionState(to);</div>
<div class="line">  return (</div>
<div class="line">    &lt;Link to={to} unstable_viewTransition&gt;</div>
<div class="line">      &lt;img</div>
<div class="line">        src={src}</div>
<div class="line">        alt={alt}</div>
<div class="line">        style={{</div>
<div class="line">          viewTransitionName: isTransitioning ? &quot;image-expand&quot; : &quot;&quot;,</div>
<div class="line">        }}</div>
<div class="line">      /&gt;</div>
<div class="line">    &lt;/Link&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">You can also use the <code>&lt;NavLink unstable_viewTransition&gt;</code> shorthand which will manage the hook usage for you and automatically add a <code>transitioning</code> class to the <code>&lt;a&gt;</code> during the transition:</p>
<div class="fragment"><div class="line">a.transitioning img {</div>
<div class="line">  view-transition-name: &quot;image-expand&quot;;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">&lt;NavLink to={to} unstable_viewTransition&gt;</div>
<div class="line">  &lt;img src={src} alt={alt} /&gt;</div>
<div class="line">&lt;/NavLink&gt;</div>
</div><!-- fragment --><p class="startli">For an example usage of View Transitions with React Router, check out <a href="https://github.com/brophdawg11/react-router-records">our fork</a> of the <a href="https://github.com/Charca/astro-records">Astro Records</a> demo.</p>
<p class="startli">For more information on using the View Transitions API, please refer to the <a href="https://developer.chrome.com/docs/web-platform/view-transitions/">Smooth and simple transitions with the View Transitions API</a> guide from the Google Chrome team.</p>
<p class="startli">Please note, that because the <code>ViewTransition</code> API is a DOM API, we now export a specific <code>RouterProvider</code> from <code>react-router-dom</code> with this functionality. If you are importing <code>RouterProvider</code> from <code>react-router</code>, then it will not support view transitions. (<a href="https://github.com/remix-run/react-router/pull/10928">#10928</a></p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21373"></a>
Patch Changes</h2>
<ul>
<li>Log a warning and fail gracefully in <code>ScrollRestoration</code> when <code>sessionStorage</code> is unavailable (<a href="https://github.com/remix-run/react-router/pull/10848">#10848</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.10.0</code></li>
<li><code>react-router@6.17.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21374"></a>
6.16.0</h1>
<h2><a class="anchor" id="autotoc_md21375"></a>
Minor Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.9.0</code></li>
<li><code>react-router@6.16.0</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21376"></a>
Patch Changes</h2>
<ul>
<li>Properly encode rendered URIs in server rendering to avoid hydration errors (<a href="https://github.com/remix-run/react-router/pull/10769">#10769</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21377"></a>
6.15.0</h1>
<h2><a class="anchor" id="autotoc_md21378"></a>
Minor Changes</h2>
<ul>
<li>Add's a new <code>redirectDocument()</code> function which allows users to specify that a redirect from a <code>loader</code>/<code>action</code> should trigger a document reload (via <code>window.location</code>) instead of attempting to navigate to the redirected location via React Router (<a href="https://github.com/remix-run/react-router/pull/10705">#10705</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21379"></a>
Patch Changes</h2>
<ul>
<li>Fixes an edge-case affecting web extensions in Firefox that use <code>URLSearchParams</code> and the <code>useSearchParams</code> hook. (<a href="https://github.com/remix-run/react-router/pull/10620">#10620</a>)</li>
<li>Do not include hash in <code>useFormAction()</code> for unspecified actions since it cannot be determined on the server and causes hydration issues (<a href="https://github.com/remix-run/react-router/pull/10758">#10758</a>)</li>
<li>Reorder effects in <code>unstable_usePrompt</code> to avoid throwing an exception if the prompt is unblocked and a navigation is performed synchronously (<a href="https://github.com/remix-run/react-router/pull/10687">#10687</a>, <a href="https://github.com/remix-run/react-router/pull/10718">#10718</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.8.0</code></li>
<li><code>react-router@6.15.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21380"></a>
6.14.2</h1>
<h2><a class="anchor" id="autotoc_md21381"></a>
Patch Changes</h2>
<ul>
<li>Properly decode element id when emulating hash scrolling via <code>&lt;ScrollRestoration&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/10682">#10682</a>)</li>
<li>Add missing <code>&lt;Form state&gt;</code> prop to populate <code>history.state</code> on submission navigations (<a href="https://github.com/remix-run/react-router/pull/10630">#10630</a>)</li>
<li>Support proper hydration of <code>Error</code> subclasses such as <code>ReferenceError</code>/<code>TypeError</code> (<a href="https://github.com/remix-run/react-router/pull/10633">#10633</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.7.2</code></li>
<li><code>react-router@6.14.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21382"></a>
6.14.1</h1>
<h2><a class="anchor" id="autotoc_md21383"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.14.1</code></li>
<li><code>@remix-run/router@1.7.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21384"></a>
6.14.0</h1>
<h2><a class="anchor" id="autotoc_md21385"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add support for <code>application/json</code> and <code>text/plain</code> encodings for <code>useSubmit</code>/<code>fetcher.submit</code>. To reflect these additional types, <code>useNavigation</code>/<code>useFetcher</code> now also contain <code>navigation.json</code>/<code>navigation.text</code> and <code>fetcher.json</code>/<code>fetcher.text</code> which include the json/text submission if applicable (<a href="https://github.com/remix-run/react-router/pull/10413">#10413</a>)</p>
<div class="fragment"><div class="line">// The default behavior will still serialize as FormData</div>
<div class="line">function Component() {</div>
<div class="line">  let navigation = useNavigation();</div>
<div class="line">  let submit = useSubmit();</div>
<div class="line">  submit({ key: &quot;value&quot; }, { method: &quot;post&quot; });</div>
<div class="line">  // navigation.formEncType =&gt; &quot;application/x-www-form-urlencoded&quot;</div>
<div class="line">  // navigation.formData    =&gt; FormData instance</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // request.headers.get(&quot;Content-Type&quot;) =&gt; &quot;application/x-www-form-urlencoded&quot;</div>
<div class="line">  // await request.formData()            =&gt; FormData instance</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Opt-into JSON encoding with `encType: &quot;application/json&quot;`</div>
<div class="line">function Component() {</div>
<div class="line">  let navigation = useNavigation();</div>
<div class="line">  let submit = useSubmit();</div>
<div class="line">  submit({ key: &quot;value&quot; }, { method: &quot;post&quot;, encType: &quot;application/json&quot; });</div>
<div class="line">  // navigation.formEncType =&gt; &quot;application/json&quot;</div>
<div class="line">  // navigation.json        =&gt; { key: &quot;value&quot; }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // request.headers.get(&quot;Content-Type&quot;) =&gt; &quot;application/json&quot;</div>
<div class="line">  // await request.json()                =&gt; { key: &quot;value&quot; }</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Opt-into text encoding with `encType: &quot;text/plain&quot;`</div>
<div class="line">function Component() {</div>
<div class="line">  let navigation = useNavigation();</div>
<div class="line">  let submit = useSubmit();</div>
<div class="line">  submit(&quot;Text submission&quot;, { method: &quot;post&quot;, encType: &quot;text/plain&quot; });</div>
<div class="line">  // navigation.formEncType =&gt; &quot;text/plain&quot;</div>
<div class="line">  // navigation.text        =&gt; &quot;Text submission&quot;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async function action({ request }) {</div>
<div class="line">  // request.headers.get(&quot;Content-Type&quot;) =&gt; &quot;text/plain&quot;</div>
<div class="line">  // await request.text()                =&gt; &quot;Text submission&quot;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md21386"></a>
Patch Changes</h2>
<ul>
<li>When submitting a form from a <code>submitter</code> element, prefer the built-in <code>new FormData(form, submitter)</code> instead of the previous manual approach in modern browsers (those that support the new <code>submitter</code> parameter) (<a href="https://github.com/remix-run/react-router/pull/9865">#9865</a>, <a href="https://github.com/remix-run/react-router/pull/10627">#10627</a>)<ul>
<li>For browsers that don't support it, we continue to just append the submit button's entry to the end, and we also add rudimentary support for <code>type="image"</code> buttons</li>
<li>If developers want full spec-compliant support for legacy browsers, they can use the <code>formdata-submitter-polyfill</code></li>
</ul>
</li>
<li>Call <code>window.history.pushState/replaceState</code> before updating React Router state (instead of after) so that <code>window.location</code> matches <code>useLocation</code> during synchronous React 17 rendering (<a href="https://github.com/remix-run/react-router/pull/10448">#10448</a>)<ul>
<li>⚠️ However, generally apps should not be relying on <code>window.location</code> and should always reference <code>useLocation</code> when possible, as <code>window.location</code> will not be in sync 100% of the time (due to <code>popstate</code> events, concurrent mode, etc.)</li>
</ul>
</li>
<li>Fix <code>tsc --skipLibCheck:false</code> issues on React 17 (<a href="https://github.com/remix-run/react-router/pull/10622">#10622</a>)</li>
<li>Upgrade <code>typescript</code> to 5.1 (<a href="https://github.com/remix-run/react-router/pull/10581">#10581</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.14.0</code></li>
<li><code>@remix-run/router@1.7.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21387"></a>
6.13.0</h1>
<h2><a class="anchor" id="autotoc_md21388"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Move <a href="https://react.dev/reference/react/startTransition"><code>React.startTransition</code></a> usage behind a <a href="https://reactrouter.com/v6/guides/api-development-strategy">future flag</a> to avoid issues with existing incompatible <code>Suspense</code> usages. We recommend folks adopting this flag to be better compatible with React concurrent mode, but if you run into issues you can continue without the use of <code>startTransition</code> until v7. Issues usually boils down to creating net-new promises during the render cycle, so if you run into issues you should either lift your promise creation out of the render cycle or put it behind a <code>useMemo</code>. (<a href="https://github.com/remix-run/react-router/pull/10596">#10596</a>)</p>
<p class="startli">Existing behavior will no longer include <code>React.startTransition</code>:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter&gt;</div>
<div class="line">  &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">&lt;RouterProvider router={router} /&gt;</div>
</div><!-- fragment --><p class="startli">If you wish to enable <code>React.startTransition</code>, pass the future flag to your component:</p>
<div class="fragment"><div class="line">&lt;BrowserRouter future={{ v7_startTransition: true }}&gt;</div>
<div class="line">  &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;</div>
<div class="line">&lt;/BrowserRouter&gt;</div>
<div class="line"> </div>
<div class="line">&lt;RouterProvider router={router} future={{ v7_startTransition: true }}/&gt;</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md21389"></a>
Patch Changes</h2>
<ul>
<li>Work around webpack/terser <code>React.startTransition</code> minification bug in production mode (<a href="https://github.com/remix-run/react-router/pull/10588">#10588</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.13.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21390"></a>
6.12.1</h1>
<blockquote class="doxtable">
<p>&zwj;[!WARNING] Please use version <code>6.13.0</code> or later instead of <code>6.12.1</code>. This version suffers from a <code>webpack</code>/<code>terser</code> minification issue resulting in invalid minified code in your resulting production bundles which can cause issues in your application. See <a href="https://github.com/remix-run/react-router/issues/10579">#10579</a> for more details. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md21391"></a>
Patch Changes</h2>
<ul>
<li>Adjust feature detection of <code>React.startTransition</code> to fix webpack + react 17 compilation error (<a href="https://github.com/remix-run/react-router/pull/10569">#10569</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.12.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21392"></a>
6.12.0</h1>
<h2><a class="anchor" id="autotoc_md21393"></a>
Minor Changes</h2>
<ul>
<li>Wrap internal router state updates with <code>React.startTransition</code> if it exists (<a href="https://github.com/remix-run/react-router/pull/10438">#10438</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21394"></a>
Patch Changes</h2>
<ul>
<li>Re-throw <code>DOMException</code> (<code>DataCloneError</code>) when attempting to perform a <code>PUSH</code> navigation with non-serializable state. (<a href="https://github.com/remix-run/react-router/pull/10427">#10427</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.6.3</code></li>
<li><code>react-router@6.12.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21395"></a>
6.11.2</h1>
<h2><a class="anchor" id="autotoc_md21396"></a>
Patch Changes</h2>
<ul>
<li>Export <code>SetURLSearchParams</code> type (<a href="https://github.com/remix-run/react-router/pull/10444">#10444</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.11.2</code></li>
<li><code>@remix-run/router@1.6.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21397"></a>
6.11.1</h1>
<h2><a class="anchor" id="autotoc_md21398"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.11.1</code></li>
<li><code>@remix-run/router@1.6.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21399"></a>
6.11.0</h1>
<h2><a class="anchor" id="autotoc_md21400"></a>
Minor Changes</h2>
<ul>
<li>Enable <code>basename</code> support in <code>useFetcher</code> (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)<ul>
<li>If you were previously working around this issue by manually prepending the <code>basename</code> then you will need to remove the manually prepended <code>basename</code> from your <code>fetcher</code> calls (&lsquo;fetcher.load(&rsquo;/basename/route') -&gt; fetcher.load('/route')`)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21401"></a>
Patch Changes</h2>
<ul>
<li>Fix inadvertent re-renders when using <code>Component</code> instead of <code>element</code> on a route definition (<a href="https://github.com/remix-run/react-router/pull/10287">#10287</a>)</li>
<li>Fail gracefully on <code>&lt;Link to="//"&gt;</code> and other invalid URL values (<a href="https://github.com/remix-run/react-router/pull/10367">#10367</a>)</li>
<li>Switched from <code>useSyncExternalStore</code> to <code>useState</code> for internal <code>@remix-run/router</code> router state syncing in <code>&lt;RouterProvider&gt;</code>. We found some <a href="https://codesandbox.io/s/use-sync-external-store-loop-9g7b81">subtle bugs</a> where router state updates got propagated <em>before</em> other normal <code>useState</code> updates, which could lead to footguns in <code>useEffect</code> calls. (<a href="https://github.com/remix-run/react-router/pull/10377">#10377</a>, <a href="https://github.com/remix-run/react-router/pull/10409">#10409</a>)</li>
<li>Add static prop to <code>StaticRouterProvider</code>'s internal <code>Router</code> component (<a href="https://github.com/remix-run/react-router/pull/10401">#10401</a>)</li>
<li>When using a <code>RouterProvider</code>, <code>useNavigate</code>/<code>useSubmit</code>/<code>fetcher.submit</code> are now stable across location changes, since we can handle relative routing via the <code>@remix-run/router</code> instance and get rid of our dependence on <code>useLocation()</code>. When using <code>BrowserRouter</code>, these hooks remain unstable across location changes because they still rely on <code>useLocation()</code>. (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.11.0</code></li>
<li><code>@remix-run/router@1.6.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21402"></a>
6.10.0</h1>
<h2><a class="anchor" id="autotoc_md21403"></a>
Minor Changes</h2>
<ul>
<li>Added support for <a href="https://reactrouter.com/v6/guides/api-development-strategy"><b>Future Flags</b></a> in React Router. The first flag being introduced is <code>future.v7_normalizeFormMethod</code> which will normalize the exposed <code>useNavigation()/useFetcher()</code> <code>formMethod</code> fields as uppercase HTTP methods to align with the <code>fetch()</code> behavior. (<a href="https://github.com/remix-run/react-router/pull/10207">#10207</a>)<ul>
<li>When <code>future.v7_normalizeFormMethod === false</code> (default v6 behavior),<ul>
<li><code>useNavigation().formMethod</code> is lowercase</li>
<li><code>useFetcher().formMethod</code> is lowercase</li>
</ul>
</li>
<li>When <code>future.v7_normalizeFormMethod === true</code>:<ul>
<li><code>useNavigation().formMethod</code> is uppercase</li>
<li><code>useFetcher().formMethod</code> is uppercase</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21404"></a>
Patch Changes</h2>
<ul>
<li>Fix <code>createStaticHandler</code> to also check for <code>ErrorBoundary</code> on routes in addition to <code>errorElement</code> (<a href="https://github.com/remix-run/react-router/pull/10190">#10190</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.5.0</code></li>
<li><code>react-router@6.10.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21405"></a>
6.9.0</h1>
<h2><a class="anchor" id="autotoc_md21406"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">React Router now supports an alternative way to define your route <code>element</code> and <code>errorElement</code> fields as React Components instead of React Elements. You can instead pass a React Component to the new <code>Component</code> and <code>ErrorBoundary</code> fields if you choose. There is no functional difference between the two, so use whichever approach you prefer 😀. You shouldn't be defining both, but if you do <code>Component</code>/<code>ErrorBoundary</code> will "win". (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli"><b>Example JSON Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  element: &lt;Home /&gt;,</div>
<div class="line">  errorElement: &lt;HomeError /&gt;,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">const componentRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  Component: Home,</div>
<div class="line">  ErrorBoundary: HomeError,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --><p class="startli"><b>Example JSX Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; element={&lt;Home /&gt;} errorElement={&lt;HomeError /&gt; } /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">const componentRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; Component={Home} ErrorBoundary={HomeError} /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>Introducing Lazy Route Modules!</b> (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli">In order to keep your application bundles small and support code-splitting of your routes, we've introduced a new <code>lazy()</code> route property. This is an async function that resolves the non-route-matching portions of your route definition (<code>loader</code>, <code>action</code>, <code>element</code>/<code>Component</code>, <code>errorElement</code>/<code>ErrorBoundary</code>, <code>shouldRevalidate</code>, <code>handle</code>).</p>
<p class="startli">Lazy routes are resolved on initial load and during the <code>loading</code> or <code>submitting</code> phase of a navigation or fetcher call. You cannot lazily define route-matching properties (<code>path</code>, <code>index</code>, <code>children</code>) since we only execute your lazy route functions after we've matched known routes.</p>
<p class="startli">Your <code>lazy</code> functions will typically return the result of a dynamic import.</p>
<div class="fragment"><div class="line">// In this example, we assume most folks land on the homepage so we include that</div>
<div class="line">// in our critical-path bundle, but then we lazily load modules for /a and /b so</div>
<div class="line">// they don&#39;t load until the user navigates to those routes</div>
<div class="line">let routes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&quot;/&quot; element={&lt;Layout /&gt;}&gt;</div>
<div class="line">    &lt;Route index element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;a&quot; lazy={() =&gt; import(&quot;./a&quot;)} /&gt;</div>
<div class="line">    &lt;Route path=&quot;b&quot; lazy={() =&gt; import(&quot;./b&quot;)} /&gt;</div>
<div class="line">  &lt;/Route&gt;</div>
<div class="line">);</div>
</div><!-- fragment --><p class="startli">Then in your lazy route modules, export the properties you want defined for the route:</p>
<div class="fragment"><div class="line">export async function loader({ request }) {</div>
<div class="line">  let data = await fetchData(request);</div>
<div class="line">  return json(data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export a `Component` directly instead of needing to create a React Element from it</div>
<div class="line">export function Component() {</div>
<div class="line">  let data = useLoaderData();</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      &lt;h1&gt;You made it!&lt;/h1&gt;</div>
<div class="line">      &lt;p&gt;{data}&lt;/p&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export an `ErrorBoundary` directly instead of needing to create a React Element from it</div>
<div class="line">export function ErrorBoundary() {</div>
<div class="line">  let error = useRouteError();</div>
<div class="line">  return isRouteErrorResponse(error) ? (</div>
<div class="line">    &lt;h1&gt;</div>
<div class="line">      {error.status} {error.statusText}</div>
<div class="line">    &lt;/h1&gt;</div>
<div class="line">  ) : (</div>
<div class="line">    &lt;h1&gt;{error.message || error}&lt;/h1&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">An example of this in action can be found in the <a href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading-router-provider"><code>examples/lazy-loading-router-provider</code></a> directory of the repository.</p>
<p class="startli">🙌 Huge thanks to @rossipedia for the <a href="https://github.com/remix-run/react-router/discussions/9826">Initial Proposal</a> and <a href="https://github.com/remix-run/react-router/pull/9830">POC Implementation</a>.</p>
</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.9.0</code></li>
<li><code>@remix-run/router@1.4.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21407"></a>
6.8.2</h1>
<h2><a class="anchor" id="autotoc_md21408"></a>
Patch Changes</h2>
<ul>
<li>Treat same-origin absolute URLs in <code>&lt;Link to&gt;</code> as external if they are outside of the router <code>basename</code> (<a href="https://github.com/remix-run/react-router/pull/10135">#10135</a>)</li>
<li>Fix <code>useBlocker</code> to return <code>IDLE_BLOCKER</code> during SSR (<a href="https://github.com/remix-run/react-router/pull/10046">#10046</a>)</li>
<li>Fix SSR of absolute <code>&lt;Link to&gt;</code> urls (<a href="https://github.com/remix-run/react-router/pull/10112">#10112</a>)</li>
<li>Properly escape HTML characters in <code>StaticRouterProvider</code> serialized hydration data (<a href="https://github.com/remix-run/react-router/pull/10068">#10068</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.3</code></li>
<li><code>react-router@6.8.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21409"></a>
6.8.1</h1>
<h2><a class="anchor" id="autotoc_md21410"></a>
Patch Changes</h2>
<ul>
<li>Improved absolute url detection in <code>Link</code> component (now also supports <code>mailto:</code> urls) (<a href="https://github.com/remix-run/react-router/pull/9994">#9994</a>)</li>
<li>Fix partial object (search or hash only) pathnames losing current path value (<a href="https://github.com/remix-run/react-router/pull/10029">#10029</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.8.1</code></li>
<li><code>@remix-run/router@1.3.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21411"></a>
6.8.0</h1>
<h2><a class="anchor" id="autotoc_md21412"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Support absolute URLs in <code>&lt;Link to&gt;</code>. If the URL is for the current origin, it will still do a client-side navigation. If the URL is for a different origin then it will do a fresh document request for the new origin. (<a href="https://github.com/remix-run/react-router/pull/9900">#9900</a>)</p>
<div class="fragment"><div class="line">&lt;Link to=&quot;https://neworigin.com/some/path&quot;&gt;    {/* Document request */}</div>
<div class="line">&lt;Link to=&quot;//neworigin.com/some/path&quot;&gt;          {/* Document request */}</div>
<div class="line">&lt;Link to=&quot;https://www.currentorigin.com/path&quot;&gt; {/* Client-side navigation */}</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md21413"></a>
Patch Changes</h2>
<ul>
<li>Fix bug with search params removal via <code>useSearchParams</code> (<a href="https://github.com/remix-run/react-router/pull/9969">#9969</a>)</li>
<li>Respect <code>preventScrollReset</code> on <code>&lt;fetcher.Form&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/9963">#9963</a>)</li>
<li>Fix navigation for hash routers on manual URL changes (<a href="https://github.com/remix-run/react-router/pull/9980">#9980</a>)</li>
<li>Use <code>pagehide</code> instead of <code>beforeunload</code> for <code>&lt;ScrollRestoration&gt;</code>. This has better cross-browser support, specifically on Mobile Safari. (<a href="https://github.com/remix-run/react-router/pull/9945">#9945</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.1</code></li>
<li><code>react-router@6.8.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21414"></a>
6.7.0</h1>
<h2><a class="anchor" id="autotoc_md21415"></a>
Minor Changes</h2>
<ul>
<li>Add <code>unstable_useBlocker</code> hook for blocking navigations within the app's location origin (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
<li>Add <code>unstable_usePrompt</code> hook for blocking navigations within the app's location origin (<a href="https://github.com/remix-run/react-router/pull/9932">#9932</a>)</li>
<li>Add <code>preventScrollReset</code> prop to <code>&lt;Form&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/9886">#9886</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21416"></a>
Patch Changes</h2>
<ul>
<li>Added pass-through event listener options argument to <code>useBeforeUnload</code> (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
<li>Streamline jsdom bug workaround in tests (<a href="https://github.com/remix-run/react-router/pull/9824">#9824</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.3.0</code></li>
<li><code>react-router@6.7.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21417"></a>
6.6.2</h1>
<h2><a class="anchor" id="autotoc_md21418"></a>
Patch Changes</h2>
<ul>
<li>Ensure <code>useId</code> consistency during SSR (<a href="https://github.com/remix-run/react-router/pull/9805">#9805</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.6.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21419"></a>
6.6.1</h1>
<h2><a class="anchor" id="autotoc_md21420"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.2.1</code></li>
<li><code>react-router@6.6.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21421"></a>
6.6.0</h1>
<h2><a class="anchor" id="autotoc_md21422"></a>
Minor Changes</h2>
<ul>
<li>Add <code>useBeforeUnload()</code> hook (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
<li>Remove <code>unstable_</code> prefix from <code>createStaticHandler</code>/<code>createStaticRouter</code>/<code>StaticRouterProvider</code> (<a href="https://github.com/remix-run/react-router/pull/9738">#9738</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md21423"></a>
Patch Changes</h2>
<ul>
<li>Proper hydration of <code>Error</code> objects from <code>StaticRouterProvider</code> (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
<li>Support uppercase <code>&lt;Form method&gt;</code> and <code>useSubmit</code> method values (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
<li>Skip initial scroll restoration for SSR apps with <code>hydrationData</code> (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
<li>Fix <code>&lt;button formmethod&gt;</code> form submission overriddes (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.2.0</code></li>
<li><code>react-router@6.6.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21424"></a>
6.5.0</h1>
<h2><a class="anchor" id="autotoc_md21425"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.5.0</code></li>
<li><code>@remix-run/router@1.1.0</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21426"></a>
6.4.5</h1>
<h2><a class="anchor" id="autotoc_md21427"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.0.5</code></li>
<li><code>react-router@6.4.5</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21428"></a>
6.4.4</h1>
<h2><a class="anchor" id="autotoc_md21429"></a>
Patch Changes</h2>
<ul>
<li>Fix issues with encoded characters in <code>NavLink</code> and descendant <code>&lt;Routes&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/9589">#9589</a>, <a href="https://github.com/remix-run/react-router/pull/9647">#9647</a>)</li>
<li>Properly serialize/deserialize <code>ErrorResponse</code> instances when using built-in hydration (<a href="https://github.com/remix-run/react-router/pull/9593">#9593</a>)</li>
<li>Support <code>basename</code> in static data routers (<a href="https://github.com/remix-run/react-router/pull/9591">#9591</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.0.4</code></li>
<li><code>react-router@6.4.4</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21430"></a>
6.4.3</h1>
<h2><a class="anchor" id="autotoc_md21431"></a>
Patch Changes</h2>
<ul>
<li>Fix hrefs generated for <code>createHashRouter</code> (<a href="https://github.com/remix-run/react-router/pull/9409">#9409</a>)</li>
<li>fix encoding/matching issues with special chars (<a href="https://github.com/remix-run/react-router/pull/9477">#9477</a>, <a href="https://github.com/remix-run/react-router/pull/9496">#9496</a>)</li>
<li>Properly support <code>index</code> routes with a <code>path</code> in <code>useResolvedPath</code> (<a href="https://github.com/remix-run/react-router/pull/9486">#9486</a>)</li>
<li>Respect <code>relative=path</code> prop on <code>NavLink</code> (<a href="https://github.com/remix-run/react-router/pull/9453">#9453</a>)</li>
<li>Fix <code>NavLink</code> behavior for root urls (<a href="https://github.com/remix-run/react-router/pull/9497">#9497</a>)</li>
<li>Updated dependencies:<ul>
<li><code>@remix-run/router@1.0.3</code></li>
<li><code>react-router@6.4.3</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21432"></a>
6.4.2</h1>
<h2><a class="anchor" id="autotoc_md21433"></a>
Patch Changes</h2>
<ul>
<li>Respect <code>basename</code> in <code>useFormAction</code> (<a href="https://github.com/remix-run/react-router/pull/9352">#9352</a>)</li>
<li>Enhance console error messages for invalid usage of data router hooks (<a href="https://github.com/remix-run/react-router/pull/9311">#9311</a>)</li>
<li>If an index route has children, it will result in a runtime error. We have strengthened our <code>RouteObject</code>/<code>RouteProps</code> types to surface the error in TypeScript. (<a href="https://github.com/remix-run/react-router/pull/9366">#9366</a>)</li>
<li>Updated dependencies:<ul>
<li><code>react-router@6.4.2</code></li>
<li><code>@remix-run/router@1.0.2</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21434"></a>
6.4.1</h1>
<h2><a class="anchor" id="autotoc_md21435"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><code>react-router@6.4.1</code></li>
<li><code>@remix-run/router@1.0.1</code></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21436"></a>
6.4.0</h1>
<p>Whoa this is a big one! <code>6.4.0</code> brings all the data loading and mutation APIs over from Remix. Here's a quick high level overview, but it's recommended you go check out the <a href="https://reactrouter.com">docs</a>, especially the <a href="https://reactrouter.com/en/6.4.0/start/overview">feature overview</a> and the <a href="https://reactrouter.com/en/6.4.0/start/tutorial">tutorial</a>.</p>
<p><b>New APIs</b></p>
<ul>
<li>Create your router with <code>createMemoryRouter</code>/<code>createBrowserRouter</code>/<code>createHashRouter</code></li>
<li>Render your router with <code>&lt;RouterProvider&gt;</code></li>
<li>Load data with a Route <code>loader</code> and mutate with a Route <code>action</code></li>
<li>Handle errors with Route <code>errorElement</code></li>
<li>Submit data with the new <code>&lt;Form&gt;</code> component</li>
<li>Perform in-page data loads and mutations with <code>useFetcher()</code></li>
<li>Defer non-critical data with <code>defer</code> and <code>Await</code></li>
<li>Manage scroll position with <code>&lt;ScrollRestoration&gt;</code></li>
</ul>
<p><b>New Features</b></p>
<ul>
<li>Perform path-relative navigations with <code>&lt;Link relative="path"&gt;</code> (#9160)</li>
</ul>
<p><b>Bug Fixes</b></p>
<ul>
<li>Path resolution is now trailing slash agnostic (#8861)</li>
<li><code>useLocation</code> returns the scoped location inside a <code>&lt;Routes location&gt;</code> component (#9094)</li>
<li>respect the <code>&lt;Link replace&gt;</code> prop if it is defined (#8779)</li>
</ul>
<p><b>Updated Dependencies</b></p>
<ul>
<li><code>react-router@6.4.0</code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
