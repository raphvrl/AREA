<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: PostCSS Media Minmax</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">PostCSS Media Minmax</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md19420"></a> <a href="https://travis-ci.org/postcss/postcss-media-minmax"><img src="https://travis-ci.org/postcss/postcss-media-minmax.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.com/package/postcss-media-minmax"><img src="https://img.shields.io/npm/dm/postcss-media-minmax.svg?style=flat" alt="NPM Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.com/package/postcss-media-minmax"><img src="http://img.shields.io/npm/v/postcss-media-minmax.svg?style=flat" alt="NPM Version" style="pointer-events: none;" class="inline"/></a> <a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/npm/l/postcss-media-minmax.svg?style=flat" alt="License" style="pointer-events: none;" class="inline"/></a></p>
<blockquote class="doxtable">
<p>&zwj;写简单优雅的 Media Queries！ </p>
</blockquote>
<p>Media Queries 中的 <code>min-width</code> 和 <code>max-width</code> 等属性非常容易混淆，每次看到他们，我都想哭。现在<a href="https://drafts.csswg.org/mediaqueries/#mq-range-context">新的规范</a>中，可以使用更加直观的 <code>&gt;=</code>或<code>&lt;=</code> 替代 media queries 中的 min-/max- 前缀。</p>
<p><b>V2.1.0 开始支持 <code>&gt;</code> 或 <code>&lt;</code> 符号。</b></p>
<p>这是一个实现 <a href="http://dev.w3.org/csswg/mediaqueries/">CSS Media Queries Level 4</a> Polyfill 的插件，让你现在就可以使用这些特性，妈妈再也不用担心我记不住了，鹅妹子嘤！</p>
<p>English</p>
<hr  />
<p><img src="http://gtms02.alicdn.com/tps/i2/TB1UIjyGVXXXXcCaXXXx274FpXX-877-339.gif" alt="Gif Demo" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md19422"></a>
安装</h1>
<pre class="fragment">$ npm install postcss-media-minmax
</pre> <h1><a class="anchor" id="autotoc_md19423"></a>
快速开始</h1>
<p>示例 1：</p>
<div class="fragment"><div class="line">var fs = require(&#39;fs&#39;)</div>
<div class="line">var postcss = require(&#39;postcss&#39;)</div>
<div class="line">var minmax = require(&#39;postcss-media-minmax&#39;)</div>
<div class="line"> </div>
<div class="line">var css = fs.readFileSync(&#39;input.css&#39;, &#39;utf8&#39;)</div>
<div class="line"> </div>
<div class="line">var output = postcss()</div>
<div class="line">  .use(minmax())</div>
<div class="line">  .process(css)</div>
<div class="line">  .css</div>
<div class="line">  </div>
<div class="line">console.log(&#39;\n====&gt;Output CSS:\n&#39;, output)  </div>
</div><!-- fragment --><p>或者只需：</p>
<div class="fragment"><div class="line">var output = postcss(minmax())</div>
<div class="line">  .process(css)</div>
<div class="line">  .css</div>
</div><!-- fragment --><p>input.css：</p>
<div class="fragment"><div class="line">@media screen and (width &gt;= 500px) and (width &lt;= 1200px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>你将得到：</p>
<div class="fragment"><div class="line">@media screen and (min-width: 500px) and (max-width: 1200px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md19424"></a>
CSS 语法</h1>
<h2><a class="anchor" id="autotoc_md19425"></a>
<a href="http://dev.w3.org/csswg/mediaqueries/#mq-syntax">语法</a></h2>
<div class="fragment"><div class="line">&lt;mf-range&gt; = &lt;mf-name&gt; [ &#39;&lt;&#39; | &#39;&gt;&#39; ]? &#39;=&#39;? &lt;mf-value&gt;</div>
<div class="line">           | &lt;mf-value&gt; [ &#39;&lt;&#39; | &#39;&gt;&#39; ]? &#39;=&#39;? &lt;mf-name&gt;</div>
<div class="line">           | &lt;mf-value&gt; &#39;&lt;&#39; &#39;=&#39;? &lt;mf-name&gt; &#39;&lt;&#39; &#39;=&#39;? &lt;mf-value&gt;</div>
<div class="line">           | &lt;mf-value&gt; &#39;&gt;&#39; &#39;=&#39;? &lt;mf-name&gt; &#39;&gt;&#39; &#39;=&#39;? &lt;mf-value&gt;</div>
</div><!-- fragment --><p><img src="http://gtms03.alicdn.com/tps/i3/TB1Rje0HXXXXXXeXpXXccZJ0FXX-640-290.png" alt="syntax" class="inline"/></p>
<p>PostCSS Media Minmax 目前并没有实现 <code>200px &gt;= width</code> 或者 <code>200px &lt;= width</code> 这样的语法，因为这样的语法可读性并不不是太好。</p>
<h1><a class="anchor" id="autotoc_md19426"></a>
<a href="http://dev.w3.org/csswg/mediaqueries/#values">取值(Values)</a></h1>
<p><b>The special values:</b></p>
<ul>
<li><p class="startli"><a href="http://dev.w3.org/csswg/mediaqueries/#typedef-ratio"></a></p>
<p class="startli">&lt;ratio&gt; 是一个正（非零非负）的 &lt;integer&gt;（整型）取值，其后跟随0个或多个空白，接着跟随一个斜线（“/”），再跟随0个或多个空白，最后跟随一个正&lt;integer&gt;。</p>
<div class="fragment"><div class="line">@media screen and (device-aspect-ratio: 16 /   9) {</div>
<div class="line">  /* rules */</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* equivalent to */</div>
<div class="line">@media screen and (device-aspect-ratio: 16/9) {</div>
<div class="line">  /* rules */</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><p class="startli"><a href="http://dev.w3.org/csswg/mediaqueries/#typedef-mq-boolean">&lt;mq-boolean&gt;</a></p>
<p class="startli">&lt;mq-boolean&gt; 值是一个 0 或 1 的 &lt;integer&gt;（整型）取值。其他任何整数无效。注意， 在 CSS 中 -0 总是等价于 0 的，所以也作为一种有效的 &lt;mq-boolean&gt; 取值。 <br  />
</p>
<div class="fragment"><div class="line">@media screen and (grid: -0) {</div>
<div class="line">  /* rules */</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* equivalent to */</div>
<div class="line">@media screen and (grid: 0) {</div>
<div class="line">  /* rules */</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="autotoc_md19427"></a>
如何使用</h1>
<h2><a class="anchor" id="autotoc_md19428"></a>
简写</h2>
<p>示例 1中同一个 Media features name 同时存在 <code>&gt;=</code> 和 <code>&lt;=</code> 时，可以简写为：</p>
<div class="fragment"><div class="line">@media screen and (500px &lt;= width &lt;= 1200px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">/* 或者 */</div>
<div class="line">@media screen and (1200px &gt;= width &gt;= 500px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>都会得到一样的输出结果：</p>
<div class="fragment"><div class="line">@media screen and (min-width: 500px) and (max-width: 1200px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> **注意**：当 Media features name 在中间的时候，一定要保证两个 <code>&lt;=</code> 或 <code>&gt;=</code> 的方向一致，否则不会转换。</p>
<p>例如在下面的示例中，width 大于等于 500px 同时又大于等于 1200px，这在语法和逻辑上都是错误的。</p>
<div class="fragment"><div class="line">@media screen and (1200px &lt;= width &gt;= 500px) {</div>
<div class="line">  .bar {</div>
<div class="line">    display: block;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19429"></a>
支持的 Media features name</h2>
<p>规范中目前以下属性支持 min-/max 前缀，PostCSS Media Minmax 全部支持自动转换。</p>
<ul>
<li><code>width</code></li>
<li><code>height</code></li>
<li><code>device-width</code></li>
<li><code>device-height</code></li>
<li><code>aspect-ratio</code></li>
<li><code>device-aspect-ratio</code></li>
<li><code>color</code></li>
<li><code>color-index</code></li>
<li><code>monochrome</code></li>
<li><code>resolution</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md19430"></a>
支持在 <code>@custom-media</code> 中使用 &amp; Node Watch</h2>
<div class="fragment"><div class="line">var fs = require(&#39;fs&#39;)</div>
<div class="line">var chokidar = require(&#39;chokidar&#39;)</div>
<div class="line">var postcss = require(&#39;postcss&#39;)</div>
<div class="line">var minmax = require(&#39;postcss-media-minmax&#39;)</div>
<div class="line">var customMedia = require(&#39;postcss-custom-media&#39;)</div>
<div class="line"> </div>
<div class="line">var src = &#39;input.css&#39;</div>
<div class="line"> </div>
<div class="line">console.info(&#39;Watching…\nModify the input.css and save.&#39;)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">chokidar.watch(src, {</div>
<div class="line">  ignored: /[\/\\]\./,</div>
<div class="line">  persistent: true</div>
<div class="line">}).on(&#39;all&#39;,</div>
<div class="line">  function(event, path, stats) {</div>
<div class="line">    var css = fs.readFileSync(src, &#39;utf8&#39;)</div>
<div class="line">    var output = postcss()</div>
<div class="line">      .use(customMedia())</div>
<div class="line">      .use(minmax())</div>
<div class="line">      .process(css)</div>
<div class="line">      .css;</div>
<div class="line">    fs.writeFileSync(&#39;output.css&#39;, output)</div>
<div class="line">  })</div>
</div><!-- fragment --><p>input.css:</p>
<div class="fragment"><div class="line">@custom-media --foo (width &gt;= 20em) and (width &lt;= 50em);</div>
<div class="line">@custom-media --bar (height &gt;= 300px) and (height &lt;= 600px);</div>
<div class="line"> </div>
<div class="line">@media (--foo) and (--bar) {</div>
<div class="line">  </div>
<div class="line">}</div>
</div><!-- fragment --><p>output.css:</p>
<div class="fragment"><div class="line">@media (min-width: 20em) and (max-width: 50em) and (min-height: 300px) and (max-height: 600px) {</div>
<div class="line">  </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19431"></a>
Grunt</h2>
<div class="fragment"><div class="line">module.exports = function(grunt) {</div>
<div class="line">  grunt.initConfig({</div>
<div class="line">    pkg: grunt.file.readJSON(&#39;package.json&#39;),</div>
<div class="line">    postcss: {</div>
<div class="line">      options: {</div>
<div class="line">        processors: [</div>
<div class="line">          require(&#39;autoprefixer-core&#39;)({ browsers: [&#39;&gt; 0%&#39;] }).postcss, //Other plugin</div>
<div class="line">          require(&#39;postcss-media-minmax&#39;)(),</div>
<div class="line">        ]</div>
<div class="line">      },</div>
<div class="line">      dist: {</div>
<div class="line">        src: [&#39;src/*.css&#39;],</div>
<div class="line">        dest: &#39;build/grunt.css&#39;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  grunt.loadNpmTasks(&#39;grunt-contrib-uglify&#39;);</div>
<div class="line">  grunt.loadNpmTasks(&#39;grunt-postcss&#39;);</div>
<div class="line"> </div>
<div class="line">  grunt.registerTask(&#39;default&#39;, [&#39;postcss&#39;]);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19432"></a>
Gulp</h2>
<div class="fragment"><div class="line">var gulp = require(&#39;gulp&#39;);</div>
<div class="line">var rename = require(&#39;gulp-rename&#39;);</div>
<div class="line">var postcss = require(&#39;gulp-postcss&#39;);</div>
<div class="line">var selector = require(&#39;postcss-media-minmax&#39;)</div>
<div class="line">var autoprefixer = require(&#39;autoprefixer-core&#39;)</div>
<div class="line"> </div>
<div class="line">gulp.task(&#39;default&#39;, function () {</div>
<div class="line">    var processors = [</div>
<div class="line">        autoprefixer({ browsers: [&#39;&gt; 0%&#39;] }), //Other plugin</div>
<div class="line">        minmax()</div>
<div class="line">    ];</div>
<div class="line">    gulp.src(&#39;src/*.css&#39;)</div>
<div class="line">        .pipe(postcss(processors))</div>
<div class="line">        .pipe(rename(&#39;gulp.css&#39;))</div>
<div class="line">        .pipe(gulp.dest(&#39;build&#39;))</div>
<div class="line">});</div>
<div class="line">gulp.watch(&#39;src/*.css&#39;, [&#39;default&#39;]);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md19433"></a>
贡献</h1>
<ul>
<li>安装相关的依赖模块。</li>
<li>尊重编码风格（安装 <a href="http://editorconfig.org/">EditorConfig</a>）。</li>
<li>在[test](test)目录添加测试用例。</li>
<li>运行测试。</li>
</ul>
<div class="fragment"><div class="line">$ git clone https://github.com/postcss/postcss-media-minmaxs.git</div>
<div class="line">$ git checkout -b patch</div>
<div class="line">$ npm install</div>
<div class="line">$ npm test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md19434"></a>
致谢</h1>
<ul>
<li>感谢 PostCSS 作者 <a href="https://github.com/ai">Andrey Sitnik</a>，带给我们如此简单易用的 CSS 语法解析工具。</li>
<li>感谢 <a href="http://xanthir.com/contact/">Tab Atkins Jr.</a> 辛苦编写了 Media Queries Level 4 规范。</li>
<li>感谢 <a href="http://weibo.com/p/1005051708684567">@紫云飞</a> 对本插件的建议和帮助。</li>
</ul>
<h1><a class="anchor" id="autotoc_md19435"></a>
<a class="el" href="md_web_2node__modules_2postcss-media-minmax_2CHANGELOG.html">Changelog</a></h1>
<h1><a class="anchor" id="autotoc_md19436"></a>
[License](LICENSE)</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
