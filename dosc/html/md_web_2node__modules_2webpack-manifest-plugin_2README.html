<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"> <img src="https://raw.githubusercontent.com/shellscape/webpack-manifest-plugin/master/assets/manifest.svg?sanitize=true" alt="webpack-manfiest-plugin" style="pointer-events: none;" width="256" class="inline"/><br  />
<br  />
 </div><p><a href="https://circleci.com/gh/shellscape/webpack-manifest-plugin"><img src="https://img.shields.io/circleci/project/github/shellscape/webpack-manifest-plugin.svg" alt="tests" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/shellscape/webpack-manifest-plugin"><img src="https://codecov.io/gh/shellscape/webpack-manifest-plugin/branch/master/graph/badge.svg" alt="cover" style="pointer-events: none;" class="inline"/></a> <a href="https://packagephobia.now.sh/result?p=webpack-manifest-plugin"><img src="https://packagephobia.now.sh/badge?p=webpack-manifest-plugin" alt="size" class="inline"/></a> <a href="https://liberamanifesto.com"><img src="https://img.shields.io/badge/libera-manifesto-lightgrey.svg" alt="libera manifesto" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md26846"></a>
webpack-manifest-plugin</h1>
<p>A Webpack plugin for generating an asset manifest.</p>
<p>:heart: Please consider <a href="https://github.com/sponsors/shellscape">Sponsoring my work</a></p>
<h2><a class="anchor" id="autotoc_md26847"></a>
Requirements</h2>
<p><code>webpack-manifest-plugin</code> is an <a href="./.github/FAQ.md#what-does-evergreen-mean">evergreen ðŸŒ²</a> module.</p>
<p>This module requires an <a href="https://github.com/nodejs/Release">Active LTS</a> Node version (v10.0.0+) and Webpack v4.44.0+.</p>
<h2><a class="anchor" id="autotoc_md26848"></a>
Contributing</h2>
<p>This repository leverages <a href="https://pnpm.js.org/">pnpm</a> for dependency management.</p>
<p>To begin, please install <code>pnpm</code>:</p>
<div class="fragment"><div class="line">$ npm install pnpm -g</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md26849"></a>
Install</h2>
<p>Using npm:</p>
<div class="fragment"><div class="line">npm install webpack-nano webpack-manifest-plugin --save-dev</div>
</div><!-- fragment --><p><em>Note: We recommend using <a href="https://github.com/shellscape/webpack-nano">webpack-nano</a>, a very tiny, very clean webpack CLI.</em></p>
<h2><a class="anchor" id="autotoc_md26850"></a>
Usage</h2>
<p>Create a <code>webpack.config.js</code> file:</p>
<div class="fragment"><div class="line">const { WebpackManifestPlugin } = require(&#39;webpack-manifest-plugin&#39;);</div>
<div class="line">const options = { ... };</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">    // an example entry definition</div>
<div class="line">    entry: [ &#39;app.js&#39;   ],</div>
<div class="line">  ...</div>
<div class="line">  plugins: [</div>
<div class="line">    new WebpackManifestPlugin(options)</div>
<div class="line">  ]</div>
<div class="line">};</div>
</div><!-- fragment --><p>And run <code>webpack</code>:</p>
<div class="fragment"><div class="line">$ npx wp</div>
</div><!-- fragment --><p>With the default options, the example above will create a <code>manifest.json</code> file in the output directory for the build. The manifest file will contain a map of source filenames to the corresponding build output file. e.g.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;dist/batman.js&quot;: &quot;dist/batman.1234567890.js&quot;,</div>
<div class="line">  &quot;dist/joker.js&quot;: &quot;dist/joker.0987654321.js&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md26851"></a>
Options</h3>
<h3><a class="anchor" id="autotoc_md26852"></a>
<code>basePath</code></h3>
<p>Type: <code>String</code><br  />
 Default: &lsquo;&rsquo;'`</p>
<p>Specifies a path prefix for all keys in the manifest. Useful for including your output path in the manifest.</p>
<h3><a class="anchor" id="autotoc_md26853"></a>
<code>fileName</code></h3>
<p>Type: <code>String</code><br  />
 Default: <code>manifest.json</code></p>
<p>Specifies the file name to use for the resulting manifest. By default the plugin will emit <code>manifest.json</code> to your output directory. Passing an absolute path to the <code>fileName</code> option will override both the file name and path.</p>
<h3><a class="anchor" id="autotoc_md26854"></a>
<code>filter</code></h3>
<p>Type: <code>Function</code><br  />
 Default: <code>undefined</code></p>
<p>Allows filtering the files which make up the manifest. The passed function should match the signature of <code>(file: FileDescriptor) =&gt; Boolean</code>. Return <code>true</code> to keep the file, <code>false</code> to remove the file.</p>
<h3><a class="anchor" id="autotoc_md26855"></a>
<code>generate</code></h3>
<p>Type: <code>Function</code><br  />
 Default: <code>undefined</code></p>
<p>A custom <code>Function</code> to create the manifest. The passed function should match the signature of <code>(seed: Object, files: FileDescriptor[], entries: string[]) =&gt; Object</code> and can return anything as long as it's serialisable by <code>JSON.stringify</code>.</p>
<h3><a class="anchor" id="autotoc_md26856"></a>
<code>map</code></h3>
<p>Type: <code>Function</code><br  />
 Default: <code>undefined</code></p>
<p>Allows modifying the files which make up the manifest. The passed function should match the signature of <code>(file: FileDescriptor) =&gt; FileDescriptor</code> where an object matching <code>FileDescriptor</code> is returned.</p>
<h3><a class="anchor" id="autotoc_md26857"></a>
<code>publicPath</code></h3>
<p>Type: <code>String</code><br  />
 Default: <code>&lt;webpack-config&gt;.output.publicPath</code></p>
<p>A path prefix that will be added to values of the manifest.</p>
<h3><a class="anchor" id="autotoc_md26858"></a>
<code>removeKeyHash</code></h3>
<p>Type: <code>RegExp | false</code><br  />
 Default: <code>/([a-f0-9]{32}\.?)/gi</code></p>
<p>If set to a valid <code>RegExp</code>, removes hashes from manifest keys. e.g.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;index.c5a9bff71fdfed9b6046.html&quot;: &quot;index.c5a9bff71fdfed9b6046.html&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;index.html&quot;: &quot;index.c5a9bff71fdfed9b6046.html&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The default value for this option is a regular expression targeting Webpack's <a href="https://webpack.js.org/configuration/output/#outputhashfunction">default md5 hash</a>. To target other hashing functions / algorithms, set this option to an appropriate <code>RegExp</code>. To disable replacing the hashes in key names, set this option to <code>false</code>.</p>
<h3><a class="anchor" id="autotoc_md26859"></a>
<code>seed</code></h3>
<p>Type: <code>Object</code><br  />
 Default: <code>{}</code></p>
<p>A cache of key/value pairs used to seed the manifest. This may include a set of <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/manifest.json">custom key/value</a> pairs to include in your manifest, or may be used to combine manifests across compilations in <a href="https://github.com/webpack/webpack/tree/master/examples/multi-compiler">multi-compiler mode</a>. To combine manifests, pass a shared seed object to each compiler's <code>WebpackManifestPlugin</code> instance.</p>
<h3><a class="anchor" id="autotoc_md26860"></a>
<code>serialize</code></h3>
<p>Type: <code>Function(Object) =&gt; string</code><br  />
 Default: <code>undefined</code></p>
<p>A <code>Function</code> which can be leveraged to serialize the manifest in a different format than json. e.g. <code>yaml</code>.</p>
<h3><a class="anchor" id="autotoc_md26861"></a>
<code>sort</code></h3>
<p>Type: <code>Function</code><br  />
 Default: <code>undefined</code></p>
<p>Allows sorting the files which make up the manifest. The passed function should match the signature of <code>(fileA: FileDescriptor, fileB: FileDescriptor) =&gt; Number</code>. Return <code>0</code> to indicate no change, <code>-1</code> to indicate the file should be moved to a lower index, and <code>1</code> to indicate the file shoud be moved to a higher index.</p>
<h3><a class="anchor" id="autotoc_md26862"></a>
<code>useEntryKeys</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, the keys specified in the <code>entry</code> property will be used as keys in the manifest. No file extension will be added (unless specified as part of an <code>entry</code> property key).</p>
<h3><a class="anchor" id="autotoc_md26863"></a>
<code>useLegacyEmit</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, the manifest will be written on the deprecated webpack <code>emit</code> hook to be compatible with not yet updated webpack plugins.</p>
<p>A lot of webpack plugins are not yet updated to match the new webpack 5 API. This is a problem when other plugins use the deprecated <code>emit</code> hook. The manifest will be written before these other plugins and thus files are missing on the manifest.</p>
<h3><a class="anchor" id="autotoc_md26864"></a>
<code>writeToFileEmit</code></h3>
<p>Type: <code>Boolean</code><br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, will emit the manifest to the build directory <em>and</em> in memory for compatibility with <code>webpack-dev-server</code>.</p>
<h2><a class="anchor" id="autotoc_md26865"></a>
Manifest File Descriptor</h2>
<p>This plugin utilizes the following object structure to work with files. Many options for this plugin utilize the structure below.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  chunk?: Chunk;</div>
<div class="line">  isAsset: boolean;</div>
<div class="line">  isChunk: boolean;</div>
<div class="line">  isInitial: boolean;</div>
<div class="line">  isModuleAsset: boolean;</div>
<div class="line">  name: string | null;</div>
<div class="line">  path: string;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md26866"></a>
<code>chunk</code></h3>
<p>Type: <a href="https://github.com/webpack/webpack/blob/master/lib/Chunk.js"><code>Chunk</code></a></p>
<p>Only available if <code>isChunk</code> is <code>true</code></p>
<h3><a class="anchor" id="autotoc_md26867"></a>
<code>isInitial</code></h3>
<p>Type: <code>Boolean</code></p>
<p>Is required to run you app. Cannot be <code>true</code> if <code>isChunk</code> is <code>false</code>.</p>
<h3><a class="anchor" id="autotoc_md26868"></a>
<code>isModuleAsset</code></h3>
<p>Type: <code>Boolean</code></p>
<p>Is required by a module. Cannot be <code>true</code> if <code>isAsset</code> is <code>false</code>.</p>
<h2><a class="anchor" id="autotoc_md26869"></a>
Compiler Hooks</h2>
<p>This plugin supports the following hooks via the <code>getCompilerHooks</code> export; <code>afterEmit</code>, <code>beforeEmit</code>. These hooks can be useful, e.g. changing manifest contents before emitting to disk.</p>
<h3><a class="anchor" id="autotoc_md26870"></a>
<code>getCompilerHooks</code></h3>
<p>Returns: <code>{ afterEmit: SyncWaterfallHook, beforeEmit: SyncWaterfallHook }</code></p>
<h3><a class="anchor" id="autotoc_md26871"></a>
<code>assetHookStage</code></h3>
<p>Type: <code>Number</code> Default: <code>Infinity</code></p>
<p>If you need to consume the output of this plugin in another plugin, it can be useful to adjust the stage at which the manifest is generated. Pass a new stage to <code>assetHookStage</code> to change when the manifest is generated. See the <a href="https://webpack.js.org/api/compilation-hooks/#list-of-asset-processing-stages">docs on <code>processAssets</code></a> for more detail.</p>
<p>Note: any files added to the compilation after the stage specified will not be included in the manifest.</p>
<h4><a class="anchor" id="autotoc_md26872"></a>
Usage</h4>
<div class="fragment"><div class="line">const { getCompilerHooks } = require(&#39;webpack-manifest-plugin&#39;);</div>
<div class="line"> </div>
<div class="line">class BatmanPlugin {</div>
<div class="line">  apply(compiler) {</div>
<div class="line">    const { beforeEmit } = getCompilerHooks(compiler);</div>
<div class="line"> </div>
<div class="line">    beforeEmit.tap(&#39;BatmanPlugin&#39;, (manifest) =&gt; {</div>
<div class="line">      return { ...manifest, name: &#39;hello&#39; };</div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md26873"></a>
Notes</h2>
<ul>
<li>If using this plugin with <code>webpack-clean</code> and <code>webpack-dev-server</code>, please review <a href="https://github.com/shellscape/webpack-manifest-plugin/issues/267">this issue</a>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md26874"></a>
Attiribution</h2>
<p>Special thanks to <a href="https://github.com/danethurber">Dane Thurber</a>, the original author of this plugin, without whom this plugin would not exist.</p>
<h2><a class="anchor" id="autotoc_md26875"></a>
Meta</h2>
<p>CONTRIBUTING</p>
<p><a href="./LICENSE">LICENSE (MIT)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
