<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: Spotify Web API Node</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Spotify Web API Node</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md32278"></a> <a href="https://travis-ci.org/thelinmichael/spotify-web-api-node"><img src="https://travis-ci.org/thelinmichael/spotify-web-api-node.svg?branch=master" alt="Tests" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/r/thelinmichael/spotify-web-api-node"><img src="https://coveralls.io/repos/thelinmichael/spotify-web-api-node/badge.svg" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a> <a href="https://bundlephobia.com/result?p=spotify-web-api-node"><img src="https://img.shields.io/bundlephobia/minzip/spotify-web-api-node.svg" alt="npm bundle size (minified + gzip)" style="pointer-events: none;" class="inline"/></a></p>
<p>This is a universal wrapper/client for the <a href="https://developer.spotify.com/web-api/">Spotify Web API</a> that runs on Node.JS and the browser, using <a href="http://browserify.org/">browserify</a>/<a href="https://webpack.github.io/">webpack</a>/<a href="http://rollupjs.org/">rollup</a>. A list of selected wrappers for different languages and environments is available at the Developer site's <a href="https://developer.spotify.com/documentation/web-api/libraries/">Libraries page</a>.</p>
<p>Project owners are <a href="https://github.com/thelinmichael">thelinmichael</a> and <a href="https://github.com/JMPerez">JMPerez</a>, with help from <a href="https://github.com/thelinmichael/spotify-web-api-node/network/members">a lot of awesome contributors</a>.</p>
<h1><a class="anchor" id="autotoc_md32279"></a>
Version 5</h1>
<blockquote class="doxtable">
<p>&zwj;:warning: Since the last release (4.0.0, released over year ago) a lot of new functionality has been added by a lot of different contributors. <b>Thank you.</b> In order to implement some of the feature requests, some <b>breaking changes</b> had to be made. A list of them, along with a list of the new functionality, can be found in the <a href="https://github.com/thelinmichael/spotify-web-api-node/blob/master/CHANGELOG.md">CHANGELOG</a>. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md32280"></a>
Table of contents</h1>
<ul>
<li>Features</li>
<li><a class="el" href="md_web_2node__modules_2web-vitals_2README.html#installation">Installation</a></li>
<li><a class="el" href="md_web_2node__modules_2eslint-plugin-jsx-a11y_2README.html#usage">Usage</a></li>
<li>Development</li>
</ul>
<h1><a class="anchor" id="autotoc_md32281"></a>
Features</h1>
<p>The library includes helper functions to do the following:</p>
<h3><a class="anchor" id="autotoc_md32282"></a>
Fetch music metadata</h3>
<ul>
<li>Albums, artists, and tracks</li>
<li>Audio features and analysis for tracks</li>
<li>Albums for a specific artist</li>
<li>Top tracks for a specific artist</li>
<li>Artists similar to a specific artist</li>
</ul>
<h3><a class="anchor" id="autotoc_md32283"></a>
Profiles</h3>
<ul>
<li>User's emails, product type, display name, birthdate, image</li>
</ul>
<h3><a class="anchor" id="autotoc_md32284"></a>
Search</h3>
<ul>
<li>Albums, artists, tracks, and playlists</li>
</ul>
<h3><a class="anchor" id="autotoc_md32285"></a>
Playlist manipulation</h3>
<ul>
<li>Get a user's playlists</li>
<li>Create playlists</li>
<li>Change playlist details</li>
<li>Add tracks to a playlist</li>
<li>Remove tracks from a playlist</li>
<li>Replace tracks in a playlist</li>
<li>Reorder tracks in a playlist</li>
</ul>
<h3><a class="anchor" id="autotoc_md32286"></a>
Your Music library</h3>
<ul>
<li>Add, remove, and get tracks and albums that are in the signed in user's Your Music library</li>
<li>Check if a track or album is in the signed in user's Your Music library</li>
</ul>
<h3><a class="anchor" id="autotoc_md32287"></a>
Personalization</h3>
<ul>
<li>Get a user’s top artists and tracks based on calculated affinity</li>
</ul>
<h3><a class="anchor" id="autotoc_md32288"></a>
Browse</h3>
<ul>
<li>Get New Releases</li>
<li>Get Featured Playlists</li>
<li>Get a List of Categories</li>
<li>Get a Category</li>
<li>Get a Category's Playlists</li>
<li>Get recommendations based on seeds</li>
<li>Get available genre seeds</li>
</ul>
<h3><a class="anchor" id="autotoc_md32289"></a>
Player</h3>
<ul>
<li>Get a User's Available Devices</li>
<li>Get Information About The User's Current Playback State</li>
<li>Get Current User's Recently Played Tracks</li>
<li>Get the User's Currently Playing Track</li>
<li>Pause a User's Playback</li>
<li>Seek To Position In Currently Playing Track</li>
<li>Set Repeat Mode On User’s Playback</li>
<li>Set Volume For User's Playback</li>
<li>Skip User’s Playback To Next Track</li>
<li>Skip User’s Playback To Previous Track</li>
<li>Start/Resume a User's Playback</li>
<li>Toggle Shuffle For User’s Playback</li>
<li>Transfer a User's Playback</li>
</ul>
<h3><a class="anchor" id="autotoc_md32290"></a>
Follow</h3>
<ul>
<li>Follow and unfollow users</li>
<li>Follow and unfollow artists</li>
<li>Check if the logged in user follows a user or artist</li>
<li>Follow a playlist</li>
<li>Unfollow a playlist</li>
<li>Get followed artists</li>
<li>Check if users are following a Playlist</li>
</ul>
<h3><a class="anchor" id="autotoc_md32291"></a>
Player</h3>
<ul>
<li>Add an Item to the User's Playback Queue</li>
<li>Get a user's available devices</li>
<li>Get information about the user's current playback</li>
<li>Get current user’s recently played tracks</li>
<li>Transfer a user's playback</li>
<li>Resume a user's playback</li>
<li>Skip a user's playback to next track</li>
<li>Skip a user's playback to previous track</li>
<li>Set a user's shuffle mode</li>
<li>Set a user's repeat mode</li>
<li>Set volume</li>
<li>Seek playback to a given position</li>
</ul>
<h3><a class="anchor" id="autotoc_md32292"></a>
Shows</h3>
<ul>
<li><a href="https://developer.spotify.com/documentation/web-api/reference/shows/get-a-show/">Get a Show</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md32293"></a>
Authentication</h2>
<p>All methods require authentication, which can be done using these flows:</p>
<ul>
<li><a href="http://tools.ietf.org/html/rfc6749#section-4.4">Client credentials flow</a> (Application-only authentication)</li>
<li><a href="http://tools.ietf.org/html/rfc6749#section-4.1">Authorization code grant</a> (Signed by user)</li>
<li><a href="https://tools.ietf.org/html/rfc6749#section-4.2">Implicit Grant Flow</a> (Client-side Authentication)</li>
</ul>
<h4><a class="anchor" id="autotoc_md32294"></a>
Dependencies</h4>
<p>This project depends on <a href="https://github.com/visionmedia/superagent">superagent</a> to make HTTP requests.</p>
<h1><a class="anchor" id="autotoc_md32295"></a>
Installation</h1>
<pre class="fragment">$ npm install spotify-web-api-node --save
</pre> <h1><a class="anchor" id="autotoc_md32296"></a>
Usage</h1>
<p>First, instantiate the wrapper.</p>
<div class="fragment"><div class="line">var SpotifyWebApi = require(&#39;spotify-web-api-node&#39;);</div>
<div class="line"> </div>
<div class="line">// credentials are optional</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  clientId: &#39;fcecfc72172e4cd267473117a17cbd4d&#39;,</div>
<div class="line">  clientSecret: &#39;a6338157c9bb5ac9c71924cb2940e1a7&#39;,</div>
<div class="line">  redirectUri: &#39;http://www.example.com/callback&#39;</div>
<div class="line">});</div>
</div><!-- fragment --><p>If you've got an access token and want to use it for all calls, simply use the API object's set method. Handling credentials is described in detail in the Authorization section.</p>
<div class="fragment"><div class="line">spotifyApi.setAccessToken(&#39;&lt;your_access_token&gt;&#39;);</div>
</div><!-- fragment --><p>Lastly, use the wrapper's helper methods to make the request to Spotify's Web API. The wrapper uses promises, so you need to provide a success callback as well as an error callback.</p>
<div class="fragment"><div class="line">// Get Elvis&#39; albums</div>
<div class="line">spotifyApi.getArtistAlbums(&#39;43ZHCT0cAZBISjO8DG9PnE&#39;).then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(&#39;Artist albums&#39;, data.body);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><p>If you dont wan't to use promises, you can provide a callback method instead.</p>
<div class="fragment"><div class="line">// Get Elvis&#39; albums</div>
<div class="line">spotifyApi.getArtistAlbums(</div>
<div class="line">  &#39;43ZHCT0cAZBISjO8DG9PnE&#39;,</div>
<div class="line">  { limit: 10, offset: 20 },</div>
<div class="line">  function(err, data) {</div>
<div class="line">    if (err) {</div>
<div class="line">      console.error(&#39;Something went wrong!&#39;);</div>
<div class="line">    } else {</div>
<div class="line">      console.log(data.body);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><p>The functions that fetch data from the API also accept a JSON object with a set of options. For example, <code>limit</code> and <code>offset</code> can be used in functions that returns paginated results, such as search and retrieving an artist's albums.</p>
<p>Note that the <b>options</b> parameter is <b>required if you're using a callback method.</b>, even if it's empty.</p>
<div class="fragment"><div class="line">// Passing a callback - get Elvis&#39; albums in range [20...29]</div>
<div class="line">spotifyApi</div>
<div class="line">  .getArtistAlbums(&#39;43ZHCT0cAZBISjO8DG9PnE&#39;, { limit: 10, offset: 20 })</div>
<div class="line">  .then(</div>
<div class="line">    function(data) {</div>
<div class="line">      console.log(&#39;Album information&#39;, data.body);</div>
<div class="line">    },</div>
<div class="line">    function(err) {</div>
<div class="line">      console.error(err);</div>
<div class="line">    }</div>
<div class="line">  );</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32297"></a>
Responses and errors</h2>
<p>This exposes the response headers, status code and body.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;body&quot; : {</div>
<div class="line"> </div>
<div class="line">  },</div>
<div class="line">  &quot;headers&quot; : {</div>
<div class="line"> </div>
<div class="line">  },</div>
<div class="line">  &quot;statusCode&quot; :</div>
<div class="line">}</div>
</div><!-- fragment --><p>Errors have same fields, as well as a human readable <code>message</code>. This is especially useful since Spotify's Web API returns different types of error objects depending on the endpoint being called.</p>
<h3><a class="anchor" id="autotoc_md32298"></a>
Example of a response</h3>
<p>Retrieving a track's metadata in <code>spotify-web-api-node</code> version 1.4.0 and later:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;body&quot;: {</div>
<div class="line">    &quot;name&quot;: &quot;Golpe Maestro&quot;,</div>
<div class="line">    &quot;popularity&quot;: 42,</div>
<div class="line">    &quot;preview_url&quot;:</div>
<div class="line">      &quot;https://p.scdn.co/mp3-preview/4ac44a56e3a4b7b354c1273d7550bbad38c51f5d&quot;,</div>
<div class="line">    &quot;track_number&quot;: 1,</div>
<div class="line">    &quot;type&quot;: &quot;track&quot;,</div>
<div class="line">    &quot;uri&quot;: &quot;spotify:track:3Qm86XLflmIXVm1wcwkgDK&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;headers&quot;: {</div>
<div class="line">    &quot;date&quot;: &quot;Fri, 27 Feb 2015 09:25:48 GMT&quot;,</div>
<div class="line">    &quot;content-type&quot;: &quot;application/json; charset=utf-8&quot;,</div>
<div class="line">    &quot;cache-control&quot;: &quot;public, max-age=7200&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;statusCode&quot;: 200</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32299"></a>
More examples</h2>
<p>Below are examples for all helper functions. Longer examples of some requests can be found in the <a href="examples/">examples folder</a>.</p>
<div class="fragment"><div class="line">var SpotifyWebApi = require(&#39;spotify-web-api-node&#39;);</div>
<div class="line"> </div>
<div class="line">var spotifyApi = new SpotifyWebApi();</div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * Get metadata of tracks, albums, artists, shows, and episodes</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">// Get album</div>
<div class="line">spotifyApi.getAlbum(&#39;5U4W9E5WsYb2jUQWePT8Xm&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Album information&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get multiple albums</div>
<div class="line">spotifyApi.getAlbums([&#39;5U4W9E5WsYb2jUQWePT8Xm&#39;, &#39;3KyVcddATClQKIdtaap4bV&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Albums information&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get an artist</div>
<div class="line">spotifyApi.getArtist(&#39;2hazSY4Ef3aB9ATXW7F5w3&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Artist information&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get multiple artists</div>
<div class="line">spotifyApi.getArtists([&#39;2hazSY4Ef3aB9ATXW7F5w3&#39;, &#39;6J6yx1t3nwIDyPXk5xa7O8&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Artists information&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get albums by a certain artist</div>
<div class="line">spotifyApi.getArtistAlbums(&#39;43ZHCT0cAZBISjO8DG9PnE&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Artist albums&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Search tracks whose name, album or artist contains &#39;Love&#39;</div>
<div class="line">spotifyApi.searchTracks(&#39;Love&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Search by &quot;Love&quot;&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Search artists whose name contains &#39;Love&#39;</div>
<div class="line">spotifyApi.searchArtists(&#39;Love&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Search artists by &quot;Love&quot;&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.error(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Search tracks whose artist&#39;s name contains &#39;Love&#39;</div>
<div class="line">spotifyApi.searchTracks(&#39;artist:Love&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Search tracks by &quot;Love&quot; in the artist name&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Search tracks whose artist&#39;s name contains &#39;Kendrick Lamar&#39;, and track name contains &#39;Alright&#39;</div>
<div class="line">spotifyApi.searchTracks(&#39;track:Alright artist:Kendrick Lamar&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Search tracks by &quot;Alright&quot; in the track name and &quot;Kendrick Lamar&quot; in the artist name&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Search playlists whose name or description contains &#39;workout&#39;</div>
<div class="line">spotifyApi.searchPlaylists(&#39;workout&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Found playlists are&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get tracks in an album</div>
<div class="line">spotifyApi.getAlbumTracks(&#39;41MnTivkwTO3UUJ8DrqEJJ&#39;, { limit : 5, offset : 1 })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get an artist&#39;s top tracks</div>
<div class="line">spotifyApi.getArtistTopTracks(&#39;0oSGxfWSnnOXhD2fKuz2Gy&#39;, &#39;GB&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">    }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get artists related to an artist</div>
<div class="line">spotifyApi.getArtistRelatedArtists(&#39;0qeei9KQnptjwb8MgkqEoy&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    done(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Get Audio Features for a Track */</div>
<div class="line">spotifyApi.getAudioFeaturesForTrack(&#39;3Qm86XLflmIXVm1wcwkgDK&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    done(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Get Audio Analysis for a Track */</div>
<div class="line">spotifyApi.getAudioAnalysisForTrack(&#39;3Qm86XLflmIXVm1wcwkgDK&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    done(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Get Audio Features for several tracks */</div>
<div class="line">spotifyApi.getAudioFeaturesForTracks([&#39;4iV5W9uYEdYUVa79Axb7Rh&#39;, &#39;3Qm86XLflmIXVm1wcwkgDK&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    done(err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/*</div>
<div class="line"> * User methods</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">// Get a user</div>
<div class="line">spotifyApi.getUser(&#39;petteralexis&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Some information about this user&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get the authenticated user</div>
<div class="line">spotifyApi.getMe()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Some information about the authenticated user&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/*</div>
<div class="line"> * Playlist methods</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">// Get a playlist</div>
<div class="line">spotifyApi.getPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Some information about this playlist&#39;, data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get a user&#39;s playlists</div>
<div class="line">spotifyApi.getUserPlaylists(&#39;thelinmichael&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Retrieved playlists&#39;, data.body);</div>
<div class="line">  },function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Create a private playlist</div>
<div class="line">spotifyApi.createPlaylist(&#39;My playlist&#39;, { &#39;description&#39;: &#39;My description&#39;, &#39;public&#39;: true })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Created playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Add tracks to a playlist</div>
<div class="line">spotifyApi.addTracksToPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;, [&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot;, &quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Added tracks to playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Add tracks to a specific position in a playlist</div>
<div class="line">spotifyApi.addTracksToPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;, [&quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot;, &quot;spotify:track:1301WleyT98MSxVHPZCA6M&quot;],</div>
<div class="line">  {</div>
<div class="line">    position : 5</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Added tracks to playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Remove tracks from a playlist at a specific position</div>
<div class="line">spotifyApi.removeTracksFromPlaylistByPosition(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;, [0, 2, 130], &quot;0wD+DKCUxiSR/WY8lF3fiCTb7Z8X4ifTUtqn8rO82O4Mvi5wsX8BsLj7IbIpLVM9&quot;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Tracks removed from playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Remove all occurrence of a track</div>
<div class="line">var tracks = [{ uri : &quot;spotify:track:4iV5W9uYEdYUVa79Axb7Rh&quot; }];</div>
<div class="line">var playlistId = &#39;5ieJqeLJjjI8iJWaxeBLuK&#39;;</div>
<div class="line">var options = { snapshot_id : &quot;0wD+DKCUxiSR/WY8lF3fiCTb7Z8X4ifTUtqn8rO82O4Mvi5wsX8BsLj7IbIpLVM9&quot; };</div>
<div class="line">spotifyApi.removeTracksFromPlaylist(playlistId, tracks, options)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Tracks removed from playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Reorder the first two tracks in a playlist to the place before the track at the 10th position</div>
<div class="line">var options = { &quot;range_length&quot; : 2 };</div>
<div class="line">spotifyApi.reorderTracksInPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;, 0, 10, options)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Tracks reordered in playlist!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Change playlist details</div>
<div class="line">spotifyApi.changePlaylistDetails(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;,</div>
<div class="line">  {</div>
<div class="line">    name: &#39;This is a new name for my Cool Playlist, and will become private&#39;,</div>
<div class="line">    &#39;public&#39; : false</div>
<div class="line">  }).then(function(data) {</div>
<div class="line">     console.log(&#39;Playlist is now private!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Upload a custom playlist cover image</div>
<div class="line">spotifyApi.uploadCustomPlaylistCoverImage(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;,&#39;longbase64uri&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(&#39;Playlsit cover image uploaded!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Follow a playlist (privately)</div>
<div class="line">spotifyApi.followPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;,</div>
<div class="line">  {</div>
<div class="line">    &#39;public&#39; : false</div>
<div class="line">  }).then(function(data) {</div>
<div class="line">     console.log(&#39;Playlist successfully followed privately!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Unfollow a playlist</div>
<div class="line">spotifyApi.unfollowPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(&#39;Playlist successfully unfollowed!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Check if Users are following a Playlist</div>
<div class="line">spotifyApi.areFollowingPlaylist(&#39;5ieJqeLJjjI8iJWaxeBLuK&#39;, [&#39;thelinmichael&#39;, &#39;ella&#39;])</div>
<div class="line"> .then(function(data) {</div>
<div class="line">    data.body.forEach(function(isFollowing) {</div>
<div class="line">      console.log(&quot;User is following: &quot; + isFollowing);</div>
<div class="line">    });</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/*</div>
<div class="line"> * Following Users and Artists methods</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">/* Get followed artists */</div>
<div class="line">spotifyApi.getFollowedArtists({ limit : 1 })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">      // &#39;This user is following 1051 artists!&#39;</div>
<div class="line">     console.log(&#39;This user is following &#39;, data.body.artists.total, &#39; artists!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Follow a user */</div>
<div class="line">spotifyApi.followUsers([&#39;thelinmichael&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(data);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Follow an artist */</div>
<div class="line">spotifyApi.followArtists([&#39;2hazSY4Ef3aB9ATXW7F5w3&#39;, &#39;6J6yx1t3nwIDyPXk5xa7O8&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(data);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Unfollow a user */</div>
<div class="line">spotifyApi.unfollowUsers([&#39;thelinmichael&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(data);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Unfollow an artist */</div>
<div class="line">spotifyApi.unfollowArtists([&#39;2hazSY4Ef3aB9ATXW7F5w3&#39;, &#39;6J6yx1t3nwIDyPXk5xa7O8&#39;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">     console.log(data);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Check if a user is following a user */</div>
<div class="line">let usersId = [&#39;thelinmichael&#39;];</div>
<div class="line"> </div>
<div class="line">spotifyApi.isFollowingUsers(usersId)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let isFollowing = data.body;</div>
<div class="line"> </div>
<div class="line">    for (let index = 0; index &lt; usersId.length; index++) {</div>
<div class="line">      console.log(usersId[index] + &#39;:&#39; + isFollowing[index])</div>
<div class="line">    }</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Check if a user is following an artist */</div>
<div class="line">let artistsId = [&#39;6mfK6Q2tzLMEchAr0e9Uzu&#39;, &#39;4DYFVNKZ1uixa6SQTvzQwJ&#39;];</div>
<div class="line"> </div>
<div class="line">spotifyApi.isFollowingArtists(artistsId)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let isFollowing = data.body;</div>
<div class="line"> </div>
<div class="line">    for (let index = 0; index &lt; artistsId.length; index++) {</div>
<div class="line">      console.log(artistsId[index] + &#39;:&#39; + isFollowing[index])</div>
<div class="line">    }</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/*</div>
<div class="line"> * Your Music library methods</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">/* Tracks */</div>
<div class="line"> </div>
<div class="line">// Get tracks in the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.getMySavedTracks({</div>
<div class="line">    limit : 2,</div>
<div class="line">    offset: 1</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Done!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Check if tracks are in the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.containsMySavedTracks([&quot;5ybJm6GczjQOgTqmJ0BomP&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line"> </div>
<div class="line">    // An array is returned, where the first element corresponds to the first track ID in the query</div>
<div class="line">    var trackIsInYourMusic = data.body[0];</div>
<div class="line"> </div>
<div class="line">    if (trackIsInYourMusic) {</div>
<div class="line">      console.log(&#39;Track was found in the user\&#39;s Your Music library&#39;);</div>
<div class="line">    } else {</div>
<div class="line">      console.log(&#39;Track was not found.&#39;);</div>
<div class="line">    }</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Remove tracks from the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.removeFromMySavedTracks([&quot;3VNWq8rTnQG6fM1eldSpZ0&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Removed!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Add tracks to the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.addToMySavedTracks([&quot;3VNWq8rTnQG6fM1eldSpZ0&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Added track!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">/* Albums */</div>
<div class="line"> </div>
<div class="line">// Get albums in the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.getMySavedAlbums({</div>
<div class="line">    limit : 1,</div>
<div class="line">    offset: 0</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    // Output items</div>
<div class="line">    console.log(data.body.items);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Check if albums are in the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.containsMySavedAlbums([&quot;1H8AHEB8VSE8irHViGOIrF&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line"> </div>
<div class="line">    // An array is returned, where the first element corresponds to the first album ID in the query</div>
<div class="line">    var albumIsInYourMusic = data.body[0];</div>
<div class="line"> </div>
<div class="line">    if (albumIsInYourMusic) {</div>
<div class="line">      console.log(&#39;Album was found in the user\&#39;s Your Music library&#39;);</div>
<div class="line">    } else {</div>
<div class="line">      console.log(&#39;Album was not found.&#39;);</div>
<div class="line">    }</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Remove albums from the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.removeFromMySavedAlbums([&quot;1H8AHEB8VSE8irHViGOIrF&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Removed!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Add albums to the signed in user&#39;s Your Music library</div>
<div class="line">spotifyApi.addToMySavedAlbums([&quot;1H8AHEB8VSE8irHViGOIrF&quot;])</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Added album!&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/*</div>
<div class="line"> * Browse methods</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">  // Retrieve new releases</div>
<div class="line">spotifyApi.getNewReleases({ limit : 5, offset: 0, country: &#39;SE&#39; })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">      done();</div>
<div class="line">    }, function(err) {</div>
<div class="line">       console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">    });</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">//  Retrieve featured playlists</div>
<div class="line">spotifyApi.getFeaturedPlaylists({ limit : 3, offset: 1, country: &#39;SE&#39;, locale: &#39;sv_SE&#39;, timestamp:&#39;2014-10-23T09:00:00&#39; })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get a List of Categories</div>
<div class="line">spotifyApi.getCategories({</div>
<div class="line">      limit : 5,</div>
<div class="line">      offset: 0,</div>
<div class="line">      country: &#39;SE&#39;,</div>
<div class="line">      locale: &#39;sv_SE&#39;</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get a Category (in Sweden)</div>
<div class="line">spotifyApi.getCategory(&#39;party&#39;, {</div>
<div class="line">      country: &#39;SE&#39;,</div>
<div class="line">      locale: &#39;sv_SE&#39;</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get Playlists for a Category (Party in Brazil)</div>
<div class="line">spotifyApi.getPlaylistsForCategory(&#39;party&#39;, {</div>
<div class="line">      country: &#39;BR&#39;,</div>
<div class="line">      limit : 2,</div>
<div class="line">      offset : 0</div>
<div class="line">    })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get Recommendations Based on Seeds</div>
<div class="line">spotifyApi.getRecommendations({</div>
<div class="line">      min_energy: 0.4,</div>
<div class="line">      seed_artists: [&#39;6mfK6Q2tzLMEchAr0e9Uzu&#39;, &#39;4DYFVNKZ1uixa6SQTvzQwJ&#39;],</div>
<div class="line">      min_popularity: 50</div>
<div class="line">    })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let recommendations = data.body;</div>
<div class="line">    console.log(recommendations);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&quot;Something went wrong!&quot;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get available genre seeds</div>
<div class="line">spotifyApi.getAvailableGenreSeeds()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let genreSeeds = data.body;</div>
<div class="line">    console.log(genreSeeds);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Player */</div>
<div class="line"> </div>
<div class="line">// Add an Item to the User&#39;s Playback Queue</div>
<div class="line">// TBD</div>
<div class="line"> </div>
<div class="line">// Get a User&#39;s Available Devices</div>
<div class="line">spotifyApi.getMyDevices()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let availableDevices = data.body.devices;</div>
<div class="line">    console.log(availableDevices);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get Information About The User&#39;s Current Playback State</div>
<div class="line">spotifyApi.getMyCurrentPlaybackState()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    // Output items</div>
<div class="line">    if (data.body &amp;&amp; data.body.is_playing) {</div>
<div class="line">      console.log(&quot;User is currently playing something!&quot;);</div>
<div class="line">    } else {</div>
<div class="line">      console.log(&quot;User is not playing anything, or doing so in private.&quot;);</div>
<div class="line">    }</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get Current User&#39;s Recently Played Tracks</div>
<div class="line">spotifyApi.getMyRecentlyPlayedTracks({</div>
<div class="line">  limit : 20</div>
<div class="line">}).then(function(data) {</div>
<div class="line">    // Output items</div>
<div class="line">    console.log(&quot;Your 20 most recently played tracks are:&quot;);</div>
<div class="line">    data.body.items.forEach(item =&gt; console.log(item.track));</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Get the User&#39;s Currently Playing Track </div>
<div class="line">spotifyApi.getMyCurrentPlayingTrack()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(&#39;Now playing: &#39; + data.body.item.name);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Pause a User&#39;s Playback</div>
<div class="line">spotifyApi.pause()</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Playback paused&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Seek To Position In Currently Playing Track</div>
<div class="line">spotifyApi.seek(positionMs)</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Seek to &#39; + positionMs);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Set Repeat Mode On User’s Playback</div>
<div class="line">spotifyApi.setRepeat(&#39;track&#39;)</div>
<div class="line">  .then(function () {</div>
<div class="line">    console.log(&#39;Repeat track.&#39;);</div>
<div class="line">    }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Set Volume For User&#39;s Playback</div>
<div class="line">spotifyApi.setVolume(50)</div>
<div class="line">  .then(function () {</div>
<div class="line">    console.log(&#39;Setting volume to 50.&#39;);</div>
<div class="line">    }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Skip User’s Playback To Next Track</div>
<div class="line">spotifyApi.skipToNext()</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Skip to next&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Skip User’s Playback To Previous Track </div>
<div class="line">spotifyApi.skipToPrevious()</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Skip to previous&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Start/Resume a User&#39;s Playback </div>
<div class="line">spotifyApi.play()</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Playback started&#39;);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Toggle Shuffle For User’s Playback</div>
<div class="line">spotifyApi.setShuffle(true)</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Shuffle is on.&#39;);</div>
<div class="line">  }, function  (err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// Transfer a User&#39;s Playback</div>
<div class="line">spotifyApi.transferMyPlayback(deviceIds)</div>
<div class="line">  .then(function() {</div>
<div class="line">    console.log(&#39;Transfering playback to &#39; + deviceIds);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    //if the user making the request is non-premium, a 403 FORBIDDEN response code will be returned</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * Personalization Endpoints</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">/* Get a User’s Top Artists*/</div>
<div class="line">spotifyApi.getMyTopArtists()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let topArtists = data.body.items;</div>
<div class="line">    console.log(topArtists);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">/* Get a User’s Top Tracks*/</div>
<div class="line">spotifyApi.getMyTopTracks()</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    let topTracks = data.body.items;</div>
<div class="line">    console.log(topTracks);</div>
<div class="line">  }, function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  });</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32300"></a>
Chaining calls</h2>
<div class="fragment"><div class="line">// track detail information for album tracks</div>
<div class="line">spotifyApi</div>
<div class="line">  .getAlbum(&#39;5U4W9E5WsYb2jUQWePT8Xm&#39;)</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    return data.body.tracks.map(function(t) {</div>
<div class="line">      return t.id;</div>
<div class="line">    });</div>
<div class="line">  })</div>
<div class="line">  .then(function(trackIds) {</div>
<div class="line">    return spotifyApi.getTracks(trackIds);</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  })</div>
<div class="line">  .catch(function(error) {</div>
<div class="line">    console.error(error);</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">// album detail for the first 10 Elvis&#39; albums</div>
<div class="line">spotifyApi</div>
<div class="line">  .getArtistAlbums(&#39;43ZHCT0cAZBISjO8DG9PnE&#39;, { limit: 10 })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    return data.body.albums.map(function(a) {</div>
<div class="line">      return a.id;</div>
<div class="line">    });</div>
<div class="line">  })</div>
<div class="line">  .then(function(albums) {</div>
<div class="line">    return spotifyApi.getAlbums(albums);</div>
<div class="line">  })</div>
<div class="line">  .then(function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  });</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md32301"></a>
Authorization</h2>
<p>Supplying an access token is required for all requests to the Spotify API. This wrapper supports three authorization flows - The Authorization Code flow (signed by a user), the Client Credentials flow (application authentication - the user isn't involved), and the Implicit Grant Flow (For completely clientside applications). See Spotify's <a href="https://developer.spotify.com/spotify-web-api/authorization-guide/">Authorization guide</a> for detailed information on these flows.</p>
<p><b>Important: If you are writing a universal/isomorphic web app using this library, you will not be able to use methods that send a client secret to the Spotify authorization service. Client secrets should be kept server-side and not exposed to client browsers. Never include your client secret in the public JS served to the browser.</b></p>
<p>The first thing you need to do is to <a href="https://developer.spotify.com/my-applications/">create an application</a>. A step-by-step tutorial is offered by Spotify in this <a href="https://developer.spotify.com/spotify-web-api/tutorial/">tutorial</a>.</p>
<h3><a class="anchor" id="autotoc_md32302"></a>
Authorization code flow</h3>
<p>With the application created and its redirect URI set, the only thing necessary for the application to retrieve an <b>authorization code</b> is the user's permission. Which permissions you're able to ask for is documented in Spotify's <a href="https://developer.spotify.com/spotify-web-api/using-scopes/">Using Scopes section</a>.</p>
<p>In order to get permissions, you need to direct the user to <a href="https://accounts.spotify.com">Spotify's Accounts service</a>. Generate the URL by using the wrapper's authorization URL method.</p>
<div class="fragment"><div class="line">var scopes = [&#39;user-read-private&#39;, &#39;user-read-email&#39;],</div>
<div class="line">  redirectUri = &#39;https://example.com/callback&#39;,</div>
<div class="line">  clientId = &#39;5fe01282e44241328a84e7c5cc169165&#39;,</div>
<div class="line">  state = &#39;some-state-of-my-choice&#39;;</div>
<div class="line"> </div>
<div class="line">// Setting credentials can be done in the wrapper&#39;s constructor, or using the API object&#39;s setters.</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  redirectUri: redirectUri,</div>
<div class="line">  clientId: clientId</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Create the authorization URL</div>
<div class="line">var authorizeURL = spotifyApi.createAuthorizeURL(scopes, state);</div>
<div class="line"> </div>
<div class="line">// https://accounts.spotify.com:443/authorize?client_id=5fe01282e44241328a84e7c5cc169165&amp;response_type=code&amp;redirect_uri=https://example.com/callback&amp;scope=user-read-private%20user-read-email&amp;state=some-state-of-my-choice</div>
<div class="line">console.log(authorizeURL);</div>
</div><!-- fragment --><p>The example below uses a hardcoded authorization code, retrieved from the Accounts service as described above.</p>
<div class="fragment"><div class="line">var credentials = {</div>
<div class="line">  clientId: &#39;someClientId&#39;,</div>
<div class="line">  clientSecret: &#39;someClientSecret&#39;,</div>
<div class="line">  redirectUri: &#39;http://www.michaelthelin.se/test-callback&#39;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">var spotifyApi = new SpotifyWebApi(credentials);</div>
<div class="line"> </div>
<div class="line">// The code that&#39;s returned as a query parameter to the redirect URI</div>
<div class="line">var code = &#39;MQCbtKe23z7YzzS44KzZzZgjQa621hgSzHN&#39;;</div>
<div class="line"> </div>
<div class="line">// Retrieve an access token and a refresh token</div>
<div class="line">spotifyApi.authorizationCodeGrant(code).then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(&#39;The token expires in &#39; + data.body[&#39;expires_in&#39;]);</div>
<div class="line">    console.log(&#39;The access token is &#39; + data.body[&#39;access_token&#39;]);</div>
<div class="line">    console.log(&#39;The refresh token is &#39; + data.body[&#39;refresh_token&#39;]);</div>
<div class="line"> </div>
<div class="line">    // Set the access token on the API object to use it in later calls</div>
<div class="line">    spotifyApi.setAccessToken(data.body[&#39;access_token&#39;]);</div>
<div class="line">    spotifyApi.setRefreshToken(data.body[&#39;refresh_token&#39;]);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><p>Since the access token was set on the API object in the previous success callback, <b>it's going to be used in future calls</b>. As it was retrieved using the Authorization Code flow, it can also be refreshed.</p>
<div class="fragment"><div class="line">// clientId, clientSecret and refreshToken has been set on the api object previous to this call.</div>
<div class="line">spotifyApi.refreshAccessToken().then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(&#39;The access token has been refreshed!&#39;);</div>
<div class="line"> </div>
<div class="line">    // Save the access token so that it&#39;s used in future calls</div>
<div class="line">    spotifyApi.setAccessToken(data.body[&#39;access_token&#39;]);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.log(&#39;Could not refresh access token&#39;, err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md32303"></a>
Client Credential flow</h3>
<p>The Client Credential flow doesn't require the user to give permissions, so it's suitable for requests where the application just needs to authenticate itself. This is the case with for example retrieving a playlist. However, note that the access token cannot be refreshed, and that it isn't connected to a specific user.</p>
<div class="fragment"><div class="line">var clientId = &#39;someClientId&#39;,</div>
<div class="line">  clientSecret = &#39;someClientSecret&#39;;</div>
<div class="line"> </div>
<div class="line">// Create the api object with the credentials</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  clientId: clientId,</div>
<div class="line">  clientSecret: clientSecret</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Retrieve an access token.</div>
<div class="line">spotifyApi.clientCredentialsGrant().then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(&#39;The access token expires in &#39; + data.body[&#39;expires_in&#39;]);</div>
<div class="line">    console.log(&#39;The access token is &#39; + data.body[&#39;access_token&#39;]);</div>
<div class="line"> </div>
<div class="line">    // Save the access token so that it&#39;s used in future calls</div>
<div class="line">    spotifyApi.setAccessToken(data.body[&#39;access_token&#39;]);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong when retrieving an access token&#39;, err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md32304"></a>
Implicit Grant flow</h3>
<p>The Implicit Grant can be used to allow users to login to your completely client-side application. This method still requires a registered application, but won't expose your client secret. This method of authentication won't return any refresh tokens, so you will need to fully reauthenticate the user everytime a token expires.</p>
<div class="fragment"><div class="line">var scopes = [&#39;user-read-private&#39;, &#39;user-read-email&#39;],</div>
<div class="line">  redirectUri = &#39;https://example.com/callback&#39;,</div>
<div class="line">  clientId = &#39;5fe01282e44241328a84e7c5cc169165&#39;,</div>
<div class="line">  state = &#39;some-state-of-my-choice&#39;,</div>
<div class="line">  showDialog = true,</div>
<div class="line">  responseType = &#39;token&#39;;</div>
<div class="line"> </div>
<div class="line">// Setting credentials can be done in the wrapper&#39;s constructor, or using the API object&#39;s setters.</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  redirectUri: redirectUri,</div>
<div class="line">  clientId: clientId</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Create the authorization URL</div>
<div class="line">var authorizeURL = spotifyApi.createAuthorizeURL(</div>
<div class="line">  scopes,</div>
<div class="line">  state,</div>
<div class="line">  showDialog,</div>
<div class="line">  responseType</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">// https://accounts.spotify.com/authorize?client_id=5fe01282e44241328a84e7c5cc169165&amp;response_type=token&amp;redirect_uri=https://example.com/callback&amp;scope=user-read-private%20user-read-email&amp;state=some-state-of-my-choice&amp;show_dialog=true</div>
<div class="line">console.log(authorizeURL);</div>
</div><!-- fragment --><p>When the client returns, it will have a token we can directly pass to the library:</p>
<div class="fragment"><div class="line">// The code that&#39;s returned as a hash fragment query string parameter to the redirect URI</div>
<div class="line">var code = &#39;MQCbtKe23z7YzzS44KzZzZgjQa621hgSzHN&#39;;</div>
<div class="line">var credentials = {</div>
<div class="line">  clientId: &#39;someClientId&#39;,</div>
<div class="line">  clientSecret: &#39;someClientSecret&#39;,</div>
<div class="line">  //Either here</div>
<div class="line">  accessToken: code</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">var spotifyApi = new SpotifyWebApi(credentials);</div>
<div class="line"> </div>
<div class="line">//Or with a method</div>
<div class="line">spotifyApi.setAccessToken(code);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md32305"></a>
Setting credentials</h3>
<p>Credentials are either set when constructing the API object or set after the object has been created using setters. They can be set all at once or one at a time.</p>
<p>Using setters, getters and resetters.</p>
<div class="fragment"><div class="line">// Use setters to set all credentials one by one</div>
<div class="line">var spotifyApi = new SpotifyWebApi();</div>
<div class="line">spotifyApi.setAccessToken(&#39;myAccessToken&#39;);</div>
<div class="line">spotifyApi.setRefreshToken(&#39;myRefreshToken&#39;);</div>
<div class="line">spotifyApi.setRedirectURI(&#39;http://www.example.com/test-callback&#39;);</div>
<div class="line">spotifyApi.setClientId(&#39;myOwnClientId&#39;);</div>
<div class="line">spotifyApi.setClientSecret(&#39;someSuperSecretString&#39;);</div>
<div class="line"> </div>
<div class="line">// Set all credentials at the same time</div>
<div class="line">spotifyApi.setCredentials({</div>
<div class="line">  accessToken: &#39;myAccessToken&#39;,</div>
<div class="line">  refreshToken: &#39;myRefreshToken&#39;,</div>
<div class="line">  redirectUri: &#39;http://www.example.com/test-callback&#39;,</div>
<div class="line">  &#39;clientId &#39;: &#39;myClientId&#39;,</div>
<div class="line">  clientSecret: &#39;myClientSecret&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Get the credentials one by one</div>
<div class="line">console.log(&#39;The access token is &#39; + spotifyApi.getAccessToken());</div>
<div class="line">console.log(&#39;The refresh token is &#39; + spotifyApi.getRefreshToken());</div>
<div class="line">console.log(&#39;The redirectURI is &#39; + spotifyApi.getRedirectURI());</div>
<div class="line">console.log(&#39;The client ID is &#39; + spotifyApi.getClientId());</div>
<div class="line">console.log(&#39;The client secret is &#39; + spotifyApi.getClientSecret());</div>
<div class="line"> </div>
<div class="line">// Get all credentials</div>
<div class="line">console.log(&#39;The credentials are &#39; + spotifyApi.getCredentials());</div>
<div class="line"> </div>
<div class="line">// Reset the credentials</div>
<div class="line">spotifyApi.resetAccessToken();</div>
<div class="line">spotifyApi.resetRefreshToken();</div>
<div class="line">spotifyApi.resetRedirectURI();</div>
<div class="line">spotifyApi.resetClientId();</div>
<div class="line">spotifyApi.resetClientSecret();</div>
<div class="line">spotifyApi.resetCode();</div>
<div class="line"> </div>
<div class="line">// Reset all credentials at the same time</div>
<div class="line">spotifyApi.resetCredentials();</div>
</div><!-- fragment --><p>Using the constructor.</p>
<div class="fragment"><div class="line">// Set necessary parts of the credentials on the constructor</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  clientId: &#39;myClientId&#39;,</div>
<div class="line">  clientSecret: &#39;myClientSecret&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Get an access token and &#39;save&#39; it using a setter</div>
<div class="line">spotifyApi.clientCredentialsGrant().then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(&#39;The access token is &#39; + data.body[&#39;access_token&#39;]);</div>
<div class="line">    spotifyApi.setAccessToken(data.body[&#39;access_token&#39;]);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Set the credentials when making the request</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  accessToken: &#39;njd9wng4d0ycwnn3g4d1jm30yig4d27iom5lg4d3&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Do search using the access token</div>
<div class="line">spotifyApi.searchTracks(&#39;artist:Love&#39;).then(</div>
<div class="line">  function(data) {</div>
<div class="line">    console.log(data.body);</div>
<div class="line">  },</div>
<div class="line">  function(err) {</div>
<div class="line">    console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><div class="fragment"><div class="line">// Set the credentials when making the request</div>
<div class="line">var spotifyApi = new SpotifyWebApi({</div>
<div class="line">  accessToken: &#39;njd9wng4d0ycwnn3g4d1jm30yig4d27iom5lg4d3&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Get tracks in a playlist</div>
<div class="line">api</div>
<div class="line">  .getPlaylistTracks(&#39;3ktAYNcRHpazJ9qecm3ptn&#39;, {</div>
<div class="line">    offset: 1,</div>
<div class="line">    limit: 5,</div>
<div class="line">    fields: &#39;items&#39;</div>
<div class="line">  })</div>
<div class="line">  .then(</div>
<div class="line">    function(data) {</div>
<div class="line">      console.log(&#39;The playlist contains these tracks&#39;, data.body);</div>
<div class="line">    },</div>
<div class="line">    function(err) {</div>
<div class="line">      console.log(&#39;Something went wrong!&#39;, err);</div>
<div class="line">    }</div>
<div class="line">  );</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md32306"></a>
Development</h1>
<p>See something you think can be improved? <a href="https://github.com/thelinmichael/spotify-web-api-node/issues/new">Open an issue</a> or clone the project and send a pull request with your changes.</p>
<h2><a class="anchor" id="autotoc_md32307"></a>
Running tests</h2>
<p>You can run the unit tests executing <code>npm test</code> and get a test coverage report running <code>npm test -- --coverage</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
