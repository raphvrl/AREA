<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: ModuleImporter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">ModuleImporter</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1114"></a> by <a href="https://humanwhocodes.com">Nicholas C. Zakas</a></p>
<p>If you find this useful, please consider supporting my work with a <a href="https://humanwhocodes.com/donate">donation</a>.</p>
<h1><a class="anchor" id="autotoc_md1115"></a>
Description</h1>
<p>A utility for seamlessly importing modules in Node.js regardless if they are CommonJS or ESM format. Under the hood, this uses <code>import()</code> and relies on Node.js's CommonJS compatibility to work correctly. This ensures that the correct locations and formats are used for CommonJS so you can call one method and not worry about any compatibility issues.</p>
<p>The problem with the default <code>import()</code> is that it always resolves relative to the file location in which it is called. If you want to resolve from a different location, you need to jump through a few hoops to achieve that. This package makes it easy to both resolve and import modules from any directory.</p>
<h1><a class="anchor" id="autotoc_md1116"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md1117"></a>
Node.js</h2>
<p>Install using <a href="https://npmjs.com/">npm</a> or <a href="https://yarnpkg.com/">yarn</a>:</p>
<div class="fragment"><div class="line">npm install @humanwhocodes/module-importer</div>
<div class="line"> </div>
<div class="line"># or</div>
<div class="line"> </div>
<div class="line">yarn add @humanwhocodes/module-importer</div>
</div><!-- fragment --><p>Import into your Node.js project:</p>
<div class="fragment"><div class="line">// CommonJS</div>
<div class="line">const { ModuleImporter } = require(&quot;@humanwhocodes/module-importer&quot;);</div>
<div class="line"> </div>
<div class="line">// ESM</div>
<div class="line">import { ModuleImporter } from &quot;@humanwhocodes/module-importer&quot;;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1118"></a>
Bun</h2>
<p>Install using this command:</p>
<div class="fragment"><div class="line">bun add @humanwhocodes/module-importer</div>
</div><!-- fragment --><p>Import into your Bun project:</p>
<div class="fragment"><div class="line">import { ModuleImporter } from &quot;@humanwhocodes/module-importer&quot;;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1119"></a>
API</h1>
<p>After importing, create a new instance of <code>ModuleImporter</code> to start emitting events:</p>
<div class="fragment"><div class="line">// cwd can be omitted to use process.cwd()</div>
<div class="line">const importer = new ModuleImporter(cwd);</div>
<div class="line"> </div>
<div class="line">// you can resolve the location of any package</div>
<div class="line">const location = importer.resolve(&quot;./some-file.cjs&quot;);</div>
<div class="line"> </div>
<div class="line">// you can also import directly</div>
<div class="line">const module = importer.import(&quot;./some-file.cjs&quot;);</div>
</div><!-- fragment --><p>For both <code>resolve()</code> and <code>import()</code>, you can pass in package names and filenames.</p>
<h1><a class="anchor" id="autotoc_md1120"></a>
Developer Setup</h1>
<ol type="1">
<li>Fork the repository</li>
<li>Clone your fork</li>
<li>Run <code>npm install</code> to setup dependencies</li>
<li>Run <code>npm test</code> to run tests</li>
</ol>
<h1><a class="anchor" id="autotoc_md1121"></a>
License</h1>
<p>Apache 2.0 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
