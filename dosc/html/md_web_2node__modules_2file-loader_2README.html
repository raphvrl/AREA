<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AREA: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AREA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"> <a href="https://github.com/webpack/webpack"><img src="https://webpack.js.org/assets/icon-square-big.svg" alt="" style="pointer-events: none;" width="200" height="200" class="inline"/> </a> </div><p><a href="https://npmjs.com/package/file-loader"><img src="https://img.shields.io/npm/v/file-loader.svg" alt="npm" style="pointer-events: none;" class="inline"/></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/file-loader.svg" alt="node" style="pointer-events: none;" class="inline"/></a> <a href="https://david-dm.org/webpack-contrib/file-loader"><img src="https://david-dm.org/webpack-contrib/file-loader.svg" alt="deps" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/webpack-contrib/file-loader/actions"><img src="https://github.com/webpack-contrib/file-loader/workflows/file-loader/badge.svg" alt="tests" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/webpack-contrib/file-loader"><img src="https://codecov.io/gh/webpack-contrib/file-loader/branch/master/graph/badge.svg" alt="coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat" style="pointer-events: none;" class="inline"/></a> <a href="https://packagephobia.now.sh/result?p=file-loader"><img src="https://packagephobia.now.sh/badge?p=file-loader" alt="size" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md12830"></a>
file-loader</h1>
<p>The <code>file-loader</code> resolves <code>import</code>/<code>require()</code> on a file into a url and emits the file into the output directory.</p>
<h2><a class="anchor" id="autotoc_md12831"></a>
Getting Started</h2>
<p>To begin, you'll need to install <code>file-loader</code>:</p>
<div class="fragment"><div class="line">$ npm install file-loader --save-dev</div>
</div><!-- fragment --><p>Import (or <code>require</code>) the target file(s) in one of the bundle's files:</p>
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import img from &#39;./file.png&#39;;</div>
</div><!-- fragment --><p>Then add the loader to your <code>webpack</code> config. For example:</p>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>And run <code>webpack</code> via your preferred method. This will emit <code>file.png</code> as a file in the output directory (with the specified naming convention, if options are specified to do so) and returns the public URI of the file.</p>
<blockquote class="doxtable">
<p>&zwj;ℹ️ By default the filename of the resulting file is the hash of the file's contents with the original extension of the required resource. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md12832"></a>
Options</h2>
<h3><a class="anchor" id="autotoc_md12833"></a>
<code>name</code></h3>
<p>Type: <code>String|Function</code> Default: &lsquo;&rsquo;[contenthash].[ext]'`</p>
<p>Specifies a custom filename template for the target file(s) using the query parameter <code>name</code>. For example, to emit a file from your <code>context</code> directory into the output directory retaining the full directory structure, you might use:</p>
<h4><a class="anchor" id="autotoc_md12834"></a>
<code>String</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          name: &#39;[path][name].[ext]&#39;,</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md12835"></a>
<code>Function</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          name(resourcePath, resourceQuery) {</div>
<div class="line">            // `resourcePath` - `/absolute/path/to/file.js`</div>
<div class="line">            // `resourceQuery` - `?foo=bar`</div>
<div class="line"> </div>
<div class="line">            if (process.env.NODE_ENV === &#39;development&#39;) {</div>
<div class="line">              return &#39;[path][name].[ext]&#39;;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            return &#39;[contenthash].[ext]&#39;;</div>
<div class="line">          },</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;ℹ️ By default the path and name you specify will output the file in that same directory, and will also use the same URI path to access the file. </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md12836"></a>
<code>outputPath</code></h3>
<p>Type: <code>String|Function</code> Default: <code>undefined</code></p>
<p>Specify a filesystem path where the target file(s) will be placed.</p>
<h4><a class="anchor" id="autotoc_md12837"></a>
<code>String</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          outputPath: &#39;images&#39;,</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md12838"></a>
<code>Function</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          outputPath: (url, resourcePath, context) =&gt; {</div>
<div class="line">            // `resourcePath` is original absolute path to asset</div>
<div class="line">            // `context` is directory where stored asset (`rootContext`) or `context` option</div>
<div class="line"> </div>
<div class="line">            // To get relative path you can use</div>
<div class="line">            // const relativePath = path.relative(context, resourcePath);</div>
<div class="line"> </div>
<div class="line">            if (/my-custom-image\.png/.test(resourcePath)) {</div>
<div class="line">              return `other_output_path/${url}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            if (/images/.test(context)) {</div>
<div class="line">              return `image_output_path/${url}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            return `output_path/${url}`;</div>
<div class="line">          },</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12839"></a>
<code>publicPath</code></h3>
<p>Type: <code>String|Function</code> Default: <a href="https://webpack.js.org/api/module-variables/#__webpack_public_path__-webpack-specific-"><code>__webpack_public_path__</code></a>+outputPath</p>
<p>Specifies a custom public path for the target file(s).</p>
<h4><a class="anchor" id="autotoc_md12840"></a>
<code>String</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          publicPath: &#39;assets&#39;,</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md12841"></a>
<code>Function</code></h4>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          publicPath: (url, resourcePath, context) =&gt; {</div>
<div class="line">            // `resourcePath` is original absolute path to asset</div>
<div class="line">            // `context` is directory where stored asset (`rootContext`) or `context` option</div>
<div class="line"> </div>
<div class="line">            // To get relative path you can use</div>
<div class="line">            // const relativePath = path.relative(context, resourcePath);</div>
<div class="line"> </div>
<div class="line">            if (/my-custom-image\.png/.test(resourcePath)) {</div>
<div class="line">              return `other_public_path/${url}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            if (/images/.test(context)) {</div>
<div class="line">              return `image_output_path/${url}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            return `public_path/${url}`;</div>
<div class="line">          },</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12842"></a>
<code>postTransformPublicPath</code></h3>
<p>Type: <code>Function</code> Default: <code>undefined</code></p>
<p>Specifies a custom function to post-process the generated public path. This can be used to prepend or append dynamic global variables that are only available at runtime, like <code>__webpack_public_path__</code>. This would not be possible with just <code>publicPath</code>, since it stringifies the values.</p>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpg|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          publicPath: &#39;/some/path/&#39;,</div>
<div class="line">          postTransformPublicPath: (p) =&gt; `__webpack_public_path__ + ${p}`,</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12843"></a>
<code>context</code></h3>
<p>Type: <code>String</code> Default: <a href="https://webpack.js.org/configuration/entry-context/#context"><code>context</code></a></p>
<p>Specifies a custom file context.</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              context: &#39;project&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12844"></a>
<code>emitFile</code></h3>
<p>Type: <code>Boolean</code> Default: <code>true</code></p>
<p>If true, emits a file (writes a file to the filesystem). If false, the loader will return a public URI but <b>will not</b> emit the file. It is often useful to disable this option for server-side packages.</p>
<p><b>file.js</b></p>
<div class="fragment"><div class="line">// bundle file</div>
<div class="line">import img from &#39;./file.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.css$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              emitFile: false,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12845"></a>
<code>regExp</code></h3>
<p>Type: <code>RegExp</code> Default: <code>undefined</code></p>
<p>Specifies a Regular Expression to one or many parts of the target file path. The capture groups can be reused in the <code>name</code> property using <code>[N]</code> <a href="https://github.com/webpack-contrib/file-loader#placeholders">placeholder</a>.</p>
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import img from &#39;./customer01/file.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              regExp: /\/([a-z0-9]+)\/[a-z0-9]+\.png$/i,</div>
<div class="line">              name: &#39;[1]-[name].[ext]&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;ℹ️ If <code>[0]</code> is used, it will be replaced by the entire tested string, whereas <code>[1]</code> will contain the first capturing parenthesis of your regex and so on... </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md12846"></a>
<code>esModule</code></h3>
<p>Type: <code>Boolean</code> Default: <code>true</code></p>
<p>By default, <code>file-loader</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of <a href="https://webpack.js.org/plugins/module-concatenation-plugin/">module concatenation</a> and <a href="https://webpack.js.org/guides/tree-shaking/">tree shaking</a>.</p>
<p>You can enable a CommonJS module syntax using:</p>
<p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.css$/,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              esModule: false,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12847"></a>
Placeholders</h2>
<p>Full information about placeholders you can find <a href="https://github.com/webpack/loader-utils#interpolatename">here</a>.</p>
<h3><a class="anchor" id="autotoc_md12848"></a>
<code>[ext]</code></h3>
<p>Type: <code>String</code> Default: <code>file.extname</code></p>
<p>The file extension of the target file/resource.</p>
<h3><a class="anchor" id="autotoc_md12849"></a>
<code>[name]</code></h3>
<p>Type: <code>String</code> Default: <code>file.basename</code></p>
<p>The basename of the file/resource.</p>
<h3><a class="anchor" id="autotoc_md12850"></a>
<code>[path]</code></h3>
<p>Type: <code>String</code> Default: <code>file.directory</code></p>
<p>The path of the resource relative to the webpack/config <code>context</code>.</p>
<h3><a class="anchor" id="autotoc_md12851"></a>
<code>[folder]</code></h3>
<p>Type: <code>String</code> Default: <code>file.folder</code></p>
<p>The folder of the resource is in.</p>
<h3><a class="anchor" id="autotoc_md12852"></a>
<code>[query]</code></h3>
<p>Type: <code>String</code> Default: <code>file.query</code></p>
<p>The query of the resource, i.e. <code>?foo=bar</code>.</p>
<h3><a class="anchor" id="autotoc_md12853"></a>
<code>[emoji]</code></h3>
<p>Type: <code>String</code> Default: <code>undefined</code></p>
<p>A random emoji representation of <code>content</code>.</p>
<h3><a class="anchor" id="autotoc_md12854"></a>
<code>[emoji:&lt;length&gt;]</code></h3>
<p>Type: <code>String</code> Default: <code>undefined</code></p>
<p>Same as above, but with a customizable number of emojis</p>
<h3><a class="anchor" id="autotoc_md12855"></a>
<code>[hash]</code></h3>
<p>Type: <code>String</code> Default: <code>md4</code></p>
<p>Specifies the hash method to use for hashing the file content.</p>
<h3><a class="anchor" id="autotoc_md12856"></a>
<code>[contenthash]</code></h3>
<p>Type: <code>String</code> Default: <code>md4</code></p>
<p>Specifies the hash method to use for hashing the file content.</p>
<h3><a class="anchor" id="autotoc_md12857"></a>
<code>[&lt;hashType&gt;:hash:&lt;digestType&gt;:&lt;length&gt;]</code></h3>
<p>Type: <code>String</code></p>
<p>The hash of options.content (Buffer) (by default it's the hex digest of the hash).</p>
<h4><a class="anchor" id="autotoc_md12858"></a>
<code>digestType</code></h4>
<p>Type: <code>String</code> Default: &lsquo;'hex&rsquo;`</p>
<p>The <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function">digest</a> that the hash function should use. Valid values include: base26, base32, base36, base49, base52, base58, base62, base64, and hex.</p>
<h4><a class="anchor" id="autotoc_md12859"></a>
<code>hashType</code></h4>
<p>Type: <code>String</code> Default: &lsquo;'md4&rsquo;`</p>
<p>The type of hash that the has function should use. Valid values include: <code>md4</code>, <code>md5</code>, <code>sha1</code>, <code>sha256</code>, and <code>sha512</code>.</p>
<h4><a class="anchor" id="autotoc_md12860"></a>
<code>length</code></h4>
<p>Type: <code>Number</code> Default: <code>undefined</code></p>
<p>Users may also specify a length for the computed hash.</p>
<h3><a class="anchor" id="autotoc_md12861"></a>
<code>[N]</code></h3>
<p>Type: <code>String</code> Default: <code>undefined</code></p>
<p>The n-th match obtained from matching the current file name against the <code>regExp</code>.</p>
<h2><a class="anchor" id="autotoc_md12862"></a>
Examples</h2>
<h3><a class="anchor" id="autotoc_md12863"></a>
Names</h3>
<p>The following examples show how one might use <code>file-loader</code> and what the result would be.</p>
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import png from &#39;./image.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              name: &#39;dirname/[contenthash].[ext]&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Result:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">dirname/0dcbbaa701328ae351f.png</div>
</div><!-- fragment --><hr  />
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import png from &#39;./image.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              name: &#39;[sha512:hash:base64:7].[ext]&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Result:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">gdyb21L.png</div>
</div><!-- fragment --><hr  />
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import png from &#39;./path/to/file.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              name: &#39;[path][name].[ext]?[contenthash]&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Result:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">path/to/file.png?e43b20c069c4a01867c31e98cbce33c9</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12866"></a>
CDN</h3>
<p>The following examples show how to use <code>file-loader</code> for CDN uses query params.</p>
<p><b>file.js</b></p>
<div class="fragment"><div class="line">import png from &#39;./directory/image.png?width=300&amp;height=300&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  output: {</div>
<div class="line">    publicPath: &#39;https://cdn.example.com/&#39;,</div>
<div class="line">  },</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpe?g|gif)$/i,</div>
<div class="line">        use: [</div>
<div class="line">          {</div>
<div class="line">            loader: &#39;file-loader&#39;,</div>
<div class="line">            options: {</div>
<div class="line">              name: &#39;[path][name].[ext][query]&#39;,</div>
<div class="line">            },</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Result:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">https://cdn.example.com/directory/image.png?width=300&amp;height=300</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12867"></a>
Dynamic public path depending on environment variable at run time</h3>
<p>An application might want to configure different CDN hosts depending on an environment variable that is only available when running the application. This can be an advantage, as only one build of the application is necessary, which behaves differently depending on environment variables of the deployment environment. Since file-loader is applied when compiling the application, and not when running it, the environment variable cannot be used in the file-loader configuration. A way around this is setting the <code>__webpack_public_path__</code> to the desired CDN host depending on the environment variable at the entrypoint of the application. The option <code>postTransformPublicPath</code> can be used to configure a custom path depending on a variable like <code>__webpack_public_path__</code>.</p>
<p><b>main.js</b></p>
<div class="fragment"><div class="line">const assetPrefixForNamespace = (namespace) =&gt; {</div>
<div class="line">  switch (namespace) {</div>
<div class="line">    case &#39;prod&#39;:</div>
<div class="line">      return &#39;https://cache.myserver.net/web&#39;;</div>
<div class="line">    case &#39;uat&#39;:</div>
<div class="line">      return &#39;https://cache-uat.myserver.net/web&#39;;</div>
<div class="line">    case &#39;st&#39;:</div>
<div class="line">      return &#39;https://cache-st.myserver.net/web&#39;;</div>
<div class="line">    case &#39;dev&#39;:</div>
<div class="line">      return &#39;https://cache-dev.myserver.net/web&#39;;</div>
<div class="line">    default:</div>
<div class="line">      return &#39;&#39;;</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line">const namespace = process.env.NAMESPACE;</div>
<div class="line"> </div>
<div class="line">__webpack_public_path__ = `${assetPrefixForNamespace(namespace)}/`;</div>
</div><!-- fragment --><p><b>file.js</b></p>
<div class="fragment"><div class="line">import png from &#39;./image.png&#39;;</div>
</div><!-- fragment --><p><b>webpack.config.js</b></p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    rules: [</div>
<div class="line">      {</div>
<div class="line">        test: /\.(png|jpg|gif)$/i,</div>
<div class="line">        loader: &#39;file-loader&#39;,</div>
<div class="line">        options: {</div>
<div class="line">          name: &#39;[name].[contenthash].[ext]&#39;,</div>
<div class="line">          outputPath: &#39;static/assets/&#39;,</div>
<div class="line">          publicPath: &#39;static/assets/&#39;,</div>
<div class="line">          postTransformPublicPath: (p) =&gt; `__webpack_public_path__ + ${p}`,</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Result when run with <code>NAMESPACE=prod</code> env variable:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">https://cache.myserver.net/web/static/assets/image.somehash.png</div>
</div><!-- fragment --><p>Result when run with <code>NAMESPACE=dev</code> env variable:</p>
<div class="fragment"><div class="line"># result</div>
<div class="line">https://cache-dev.myserver.net/web/static/assets/image.somehash.png</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12868"></a>
Contributing</h2>
<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p>
<p>CONTRIBUTING</p>
<h2><a class="anchor" id="autotoc_md12869"></a>
License</h2>
<p><a href="./LICENSE">MIT</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
